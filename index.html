<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AEGIS Protocol — Pre-Execution Risk Analysis for EVM</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
      }
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --cyan: #00ffff;
      --magenta: #ff00ff;
      --yellow: #ffff00;
      --green: #00ff00;
      --red: #ff0040;
      --black: #000000;
      --white: #ffffff;
      --dark: #0a0a0a;
      --glow-cyan: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 30px #00ffff;
      --glow-magenta: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 30px #ff00ff;
    }

    body {
      font-family: 'Orbitron', monospace;
      background: var(--black);
      color: var(--cyan);
      overflow-x: hidden;
      line-height: 1.6;
      position: relative;
    }

    /* CRT Scanlines */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15),
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 1000;
      animation: scanline 8s linear infinite;
    }

    @keyframes scanline {
      0% { transform: translateY(0); }
      100% { transform: translateY(4px); }
    }

    /* Glitch noise overlay */
    .noise {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 999;
      opacity: 0.3;
      animation: noise 0.2s infinite;
    }

    @keyframes noise {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.5; }
    }

    /* Background with exact image */
    .background-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
      background-image: url('file:///C:/Users/smyde/Desktop/anim/background/photo_2026-01-19_23-20-08.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    
    .background-container::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: 1;
    }

    /* Starry background - overlay on image */
    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20% 30%, #00ffff, transparent),
        radial-gradient(2px 2px at 60% 70%, #ff00ff, transparent),
        radial-gradient(1px 1px at 50% 50%, #ffff00, transparent),
        radial-gradient(1px 1px at 80% 10%, #00ffff, transparent),
        radial-gradient(2px 2px at 90% 40%, #ff00ff, transparent);
      background-size: 200% 200%;
      background-position: 0% 0%;
      opacity: 0.4;
      animation: twinkle 3s ease-in-out infinite;
      z-index: 2;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }


    /* Glitch effect */
    .glitch {
      position: relative;
      animation: glitch 2s infinite;
    }

    @keyframes glitch {
      0%, 100% {
        text-shadow: 
          2px 0 #ff00ff,
          -2px 0 #00ffff;
        transform: translate(0);
      }
      20% {
        text-shadow: 
          -2px 0 #ff00ff,
          2px 0 #00ffff;
        transform: translate(2px, -2px);
      }
      40% {
        text-shadow: 
          2px 0 #ff00ff,
          -2px 0 #00ffff;
        transform: translate(-2px, 2px);
      }
      60% {
        text-shadow: 
          -2px 0 #ff00ff,
          2px 0 #00ffff;
        transform: translate(2px, 2px);
      }
      80% {
        text-shadow: 
          2px 0 #ff00ff,
          -2px 0 #00ffff;
        transform: translate(-2px, -2px);
      }
    }

    /* Content */
    .content {
      position: relative;
      z-index: 10;
      background: transparent;
    }

    /* HUD Style Header */
    .hud-top {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.9);
      border-bottom: 2px solid #00ffff;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 100;
      box-shadow: 0 0 20px #00ffff;
      font-family: 'Press Start 2P', monospace;
      font-size: 10px;
    }

    .hud-stat {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .hud-label {
      color: #00ffff;
      text-shadow: 0 0 10px #00ffff;
    }

    .hud-value {
      color: #00ff00;
      text-shadow: 0 0 10px #00ff00;
    }

    /* Navigation Tabs */
    .nav-tabs {
      position: fixed;
      top: 50px;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.95);
      border-bottom: 2px solid #00ffff;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0;
      z-index: 99;
      padding: 0;
      box-shadow: 0 0 20px #00ffff;
      max-width: 100%;
      margin: 0 auto;
    }

    .nav-tab {
      padding: 15px 30px;
      background: transparent;
      border: none;
      border-right: 2px solid #00ffff;
      color: #00ffff;
      font-family: 'Press Start 2P', monospace;
      font-size: 10px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .nav-tab:last-child {
      border-right: none;
    }

    .nav-tab::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .nav-tab:hover::before {
      left: 100%;
    }

    .nav-tab:hover {
      background: rgba(0, 255, 255, 0.1);
      color: #00ff00;
      text-shadow: 0 0 10px #00ff00;
      box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.2);
    }

    .nav-tab.active {
      background: rgba(0, 255, 255, 0.2);
      color: #00ff00;
      text-shadow: 0 0 15px #00ff00;
      box-shadow: 
        inset 0 0 20px rgba(0, 255, 255, 0.3),
        0 0 20px #00ffff;
    }

    /* Tab Content */
    .tab-content {
      display: none;
      padding-top: 100px;
      position: relative;
    }

    .tab-content.active {
      display: block;
    }

    /* Space Particle Background Canvas */
    .space-particles-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      opacity: 0.8;
    }

    #home-content,
    #roadmap-content,
    #whitepaper-content {
      position: relative;
      z-index: 1;
    }

    .tab-section {
      max-width: 1400px;
      margin: 0 auto;
      padding: 60px 20px;
    }

    /* Roadmap Styles */
    .roadmap-container {
      display: flex;
      flex-direction: column;
      gap: 40px;
      margin-top: 40px;
    }

    .roadmap-phase {
      background: rgba(0, 0, 0, 0.8);
      border: 3px solid #00ffff;
      padding: 30px;
      box-shadow: 0 0 20px #00ffff;
      position: relative;
      overflow-wrap: break-word;
      word-wrap: break-word;
    }

    .phase-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #00ffff;
    }

    .phase-badge {
      background: #00ffff;
      color: #000;
      padding: 8px 16px;
      font-family: 'Press Start 2P', monospace;
      font-size: 8px;
      text-transform: uppercase;
      box-shadow: 0 0 10px #00ffff;
    }

    .phase-header h3 {
      color: #00ff00;
      font-family: 'Orbitron', monospace;
      font-size: 1.5rem;
      text-shadow: 0 0 10px #00ff00;
      margin: 0;
    }

    .phase-items {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .phase-items li {
      padding: 10px 0;
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.9rem;
      border-left: 3px solid #00ffff;
      padding-left: 20px;
      margin-bottom: 10px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    /* Integration Styles */
    /* Integrate Gate Overlay */
    .tab-content {
      position: relative;
    }

    .integrate-gate {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 40px 40px 120px;
      background: rgba(0, 0, 0, 0.5);
      border: 4px solid #00ffff;
      box-shadow: 
        0 0 50px #00ffff,
        inset 0 0 50px rgba(0, 255, 255, 0.1);
      z-index: 10;
      backdrop-filter: blur(2px);
      overflow-y: auto;
    }

    .gate-models-container {
      display: grid;
      grid-template-columns: 1fr 1.5fr 1fr;
      gap: 40px;
      width: 100%;
      max-width: 1600px;
      align-items: center;
      position: relative;
    }

    .gate-model-wrapper {
      position: relative;
      width: 100%;
      height: 60vh;
      min-height: 500px;
      background: transparent;
      overflow: hidden;
    }

    .gate-model-wrapper canvas {
      width: 100% !important;
      height: 100% !important;
      display: block;
    }

    .gate-message {
      text-align: center;
      position: relative;
      z-index: 10;
      padding: 40px;
    }

    .gate-title {
      font-family: 'Press Start 2P', monospace;
      font-size: clamp(1.5rem, 3vw, 2.5rem);
      color: #00ffff;
      text-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff;
      margin-bottom: 30px;
      text-transform: uppercase;
      animation: glitch 3s infinite;
      letter-spacing: 0.1em;
      position: relative;
      z-index: 2;
    }

    .gate-subtitle {
      font-family: 'Press Start 2P', monospace;
      font-size: clamp(1rem, 2vw, 1.5rem);
      color: #ff0000;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      text-shadow: 
        0 0 10px #ff0000,
        0 0 20px #ff0000,
        0 0 30px #ff0000;
      animation: pulse-glow-red 2s infinite;
      position: relative;
      z-index: 2;
    }

    @keyframes pulse-glow-red {
      0%, 100% {
        text-shadow: 
          0 0 10px #ff0000,
          0 0 20px #ff0000,
          0 0 30px #ff0000;
        opacity: 1;
      }
      50% {
        text-shadow: 
          0 0 20px #ff0000,
          0 0 40px #ff0000,
          0 0 60px #ff0000;
        opacity: 0.9;
      }
    }

    .gate-pulse {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: 300px;
      border: 3px solid #00ffff;
      border-radius: 50%;
      animation: pulse-ring 2s infinite;
      pointer-events: none;
      z-index: 1;
    }

    .gate-pulse::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: 300px;
      border: 2px solid #ff0000;
      border-radius: 50%;
      animation: pulse-ring-red 2s infinite 0.5s;
    }

    @keyframes pulse-ring {
      0% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -50%) scale(1.5);
        opacity: 0;
      }
    }

    @keyframes pulse-ring-red {
      0% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0.8;
      }
      100% {
        transform: translate(-50%, -50%) scale(1.5);
        opacity: 0;
      }
    }

    .integrate-content-blurred {
      filter: blur(8px);
      pointer-events: none;
      opacity: 0.7;
      user-select: none;
      position: relative;
      z-index: 1;
      min-height: 100vh;
    }

    .integrate-container {
      display: flex;
      flex-direction: column;
      gap: 40px;
      margin-top: 40px;
    }

    .integrate-section {
      background: rgba(0, 0, 0, 0.8);
      border: 3px solid #00ffff;
      padding: 30px;
      box-shadow: 0 0 20px #00ffff;
      overflow-wrap: break-word;
      word-wrap: break-word;
    }

    .integrate-section h3 {
      color: #00ff00;
      font-family: 'Orbitron', monospace;
      font-size: 1.5rem;
      text-shadow: 0 0 10px #00ff00;
      margin-bottom: 20px;
    }

    .integrate-section p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      margin-bottom: 15px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-size: 0.95rem;
    }

    /* Whitepaper Styles */
    .whitepaper-container {
      display: flex;
      flex-direction: column;
      gap: 40px;
      margin-top: 40px;
    }

    .whitepaper-section {
      background: rgba(0, 0, 0, 0.8);
      border: 3px solid #00ffff;
      padding: 30px;
      box-shadow: 0 0 20px #00ffff;
      overflow-wrap: break-word;
      word-wrap: break-word;
    }

    .whitepaper-section h3 {
      color: #00ff00;
      font-family: 'Orbitron', monospace;
      font-size: 1.8rem;
      text-shadow: 0 0 10px #00ff00;
      margin-bottom: 20px;
      border-bottom: 2px solid #00ffff;
      padding-bottom: 10px;
    }

    .whitepaper-section h4 {
      color: #00ffff;
      font-family: 'Orbitron', monospace;
      font-size: 1.3rem;
      text-shadow: 0 0 10px #00ffff;
      margin-top: 25px;
      margin-bottom: 15px;
    }

    .whitepaper-section p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      line-height: 1.8;
      margin-bottom: 15px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-size: 0.95rem;
    }

    .whitepaper-section ul,
    .whitepaper-section ol {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      line-height: 1.8;
      margin-left: 30px;
      margin-bottom: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-size: 0.95rem;
    }

    .whitepaper-section li {
      margin-bottom: 10px;
    }

    .whitepaper-section strong {
      color: #00ffff;
      text-shadow: 0 0 5px #00ffff;
    }

    /* Extension Section Styles */
    .extension-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .extension-section {
      background: rgba(0, 0, 0, 0.8);
      border: 3px solid #00ffff;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 0 20px #00ffff;
      overflow-wrap: break-word;
      word-wrap: break-word;
    }

    .extension-section h3 {
      color: #00ff00;
      font-family: 'Orbitron', monospace;
      font-size: 1.8rem;
      text-shadow: 0 0 10px #00ff00;
      margin-bottom: 25px;
      border-bottom: 2px solid #00ffff;
      padding-bottom: 10px;
    }

    .extension-section h4 {
      color: #00ffff;
      font-family: 'Orbitron', monospace;
      font-size: 1.3rem;
      text-shadow: 0 0 10px #00ffff;
      margin-top: 20px;
      margin-bottom: 15px;
    }

    .extension-section p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      line-height: 1.8;
      margin-bottom: 15px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-size: 0.95rem;
    }

    .extension-section ul,
    .extension-section ol {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      line-height: 1.8;
      margin-left: 30px;
      margin-bottom: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-size: 0.95rem;
    }

    .extension-section li {
      margin-bottom: 10px;
    }

    .extension-section strong {
      color: #00ffff;
      text-shadow: 0 0 5px #00ffff;
    }

    .extension-section code {
      background: rgba(0, 255, 0, 0.1);
      color: #00ff00;
      padding: 2px 6px;
      border: 1px solid #00ff00;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }

    /* Test Simulator Styles */
    .test-simulator {
      margin-top: 30px;
      padding: 30px;
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00ffff;
      box-shadow: 0 0 20px #00ffff, inset 0 0 20px rgba(0, 255, 255, 0.1);
    }

    .wallet-status-box {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #ffff00;
      margin-bottom: 25px;
      box-shadow: 0 0 15px #ffff00;
      font-family: 'Press Start 2P', monospace;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .wallet-status-box.connected {
      border-color: #00ff00;
      box-shadow: 0 0 15px #00ff00;
    }

    .status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #ff0040;
      box-shadow: 0 0 10px #ff0040;
      animation: pulse 2s ease-in-out infinite;
    }

    .status-indicator.connected {
      background: #00ff00;
      box-shadow: 0 0 10px #00ff00;
    }

    .status-text {
      color: #ffff00;
      text-shadow: 0 0 10px #ffff00;
    }

    .wallet-status-box.connected .status-text {
      color: #00ff00;
      text-shadow: 0 0 10px #00ff00;
    }

    .test-actions {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 25px;
    }

    .glitch-button {
      position: relative;
      padding: 18px 30px;
      background: rgba(0, 0, 0, 0.9);
      border: 3px solid #00ffff;
      color: #00ffff;
      font-family: 'Press Start 2P', monospace;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      cursor: pointer;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 0 15px #00ffff, inset 0 0 15px rgba(0, 255, 255, 0.1);
      text-shadow: 0 0 10px #00ffff;
    }

    .glitch-button:hover:not(:disabled) {
      background: rgba(0, 255, 255, 0.1);
      border-color: #00ff00;
      color: #00ff00;
      box-shadow: 0 0 25px #00ff00, inset 0 0 25px rgba(0, 255, 0, 0.2);
      text-shadow: 0 0 15px #00ff00;
      transform: translateY(-2px);
      animation: glitch 0.5s infinite;
    }

    .glitch-button:active:not(:disabled) {
      transform: translateY(0);
      box-shadow: 0 0 10px #00ff00, inset 0 0 10px rgba(0, 255, 0, 0.3);
    }

    .glitch-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      border-color: #666;
      color: #666;
      box-shadow: none;
      text-shadow: none;
    }

    .glitch-button.secondary {
      border-color: #ff00ff;
      color: #ff00ff;
      box-shadow: 0 0 15px #ff00ff, inset 0 0 15px rgba(255, 0, 255, 0.1);
      text-shadow: 0 0 10px #ff00ff;
    }

    .glitch-button.secondary:hover:not(:disabled) {
      border-color: #ff0040;
      color: #ff0040;
      box-shadow: 0 0 25px #ff0040, inset 0 0 25px rgba(255, 0, 64, 0.2);
      text-shadow: 0 0 15px #ff0040;
    }

    .button-text {
      position: relative;
      z-index: 2;
    }

    .button-glow {
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.4), transparent);
      transition: left 0.5s;
    }

    .glitch-button:hover:not(:disabled) .button-glow {
      left: 100%;
    }

    .test-info {
      margin-top: 25px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid #00ffff;
      border-left: 4px solid #00ff00;
    }

    .test-info ol {
      margin-top: 15px;
    }

    .test-info li {
      margin-bottom: 12px;
      color: #00ffff;
      text-shadow: 0 0 5px #00ffff;
    }

    .extension-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }

    .extension-feature-card {
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00ffff;
      padding: 25px;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 0 15px #00ffff;
    }

    .extension-feature-card:hover {
      border-color: #00ff00;
      box-shadow: 0 0 25px #00ff00;
      transform: translateY(-5px);
    }

    .extension-feature-card .feature-icon {
      font-size: 3rem;
      margin-bottom: 15px;
      filter: drop-shadow(0 0 10px #00ffff);
    }

    .extension-feature-card h4 {
      color: var(--cyan);
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00ffff;
    }

    .extension-feature-card p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .install-steps {
      display: flex;
      flex-direction: column;
      gap: 30px;
      margin-top: 25px;
    }

    .install-step {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    .step-number {
      min-width: 50px;
      height: 50px;
      background: rgba(0, 255, 255, 0.2);
      border: 3px solid #00ffff;
      color: #00ffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 900;
      font-family: 'Press Start 2P', monospace;
      box-shadow: 0 0 15px #00ffff;
      flex-shrink: 0;
    }

    .step-content {
      flex: 1;
    }

    .step-content h4 {
      color: #00ffff;
      font-family: 'Press Start 2P', monospace;
      font-size: 1.1rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00ffff;
    }

    .workflow-diagram {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
      padding: 30px;
      background: rgba(0, 0, 0, 0.5);
      border: 2px dashed #00ffff;
    }

    .workflow-step {
      flex: 1;
      min-width: 200px;
      max-width: 250px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ffff;
      padding: 25px;
      text-align: center;
      box-shadow: 0 0 15px #00ffff;
    }

    .workflow-icon {
      font-size: 3rem;
      margin-bottom: 15px;
      filter: drop-shadow(0 0 10px #00ffff);
    }

    .workflow-step h4 {
      color: var(--cyan);
      font-family: 'Press Start 2P', monospace;
      font-size: 0.9rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00ffff;
    }

    .workflow-step p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .workflow-arrow {
      font-size: 2rem;
      color: #00ffff;
      text-shadow: 0 0 10px #00ffff;
      font-weight: 900;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 25px;
    }

    .feature-item {
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00ffff;
      padding: 20px;
      box-shadow: 0 0 15px #00ffff;
      transition: all 0.3s ease;
    }

    .feature-item:hover {
      border-color: #00ff00;
      box-shadow: 0 0 25px #00ff00;
      transform: translateY(-3px);
    }

    .feature-item h4 {
      color: var(--cyan);
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00ffff;
    }

    .feature-item p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .architecture-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 25px;
    }

    .arch-component {
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00ffff;
      padding: 20px;
      box-shadow: 0 0 15px #00ffff;
      transition: all 0.3s ease;
    }

    .arch-component:hover {
      border-color: #00ff00;
      box-shadow: 0 0 25px #00ff00;
      transform: translateY(-3px);
    }

    .arch-component h4 {
      color: var(--cyan);
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00ffff;
    }

    .arch-component p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .test-steps {
      list-style: none;
      counter-reset: test-counter;
      margin-top: 25px;
    }

    .test-steps li {
      counter-increment: test-counter;
      margin-bottom: 25px;
      padding-left: 60px;
      position: relative;
    }

    .test-steps li::before {
      content: counter(test-counter);
      position: absolute;
      left: 0;
      top: 0;
      width: 40px;
      height: 40px;
      background: rgba(0, 255, 255, 0.2);
      border: 3px solid #00ffff;
      color: #00ffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      font-weight: 900;
      font-family: 'Press Start 2P', monospace;
      box-shadow: 0 0 15px #00ffff;
    }

    .test-steps li strong {
      color: #00ffff;
      display: block;
      margin-bottom: 8px;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.9rem;
    }

    .test-note {
      background: rgba(255, 255, 0, 0.1);
      border: 2px solid #ffff00;
      padding: 20px;
      margin-top: 30px;
      box-shadow: 0 0 15px #ffff00;
    }

    .test-note h4 {
      color: #ffff00;
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #ffff00;
    }

    .test-note p {
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .improvements-list {
      list-style: none;
      margin-top: 25px;
    }

    .improvements-list li {
      padding: 12px 0;
      padding-left: 30px;
      position: relative;
      color: var(--white);
      font-family: 'Orbitron', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .improvements-list li::before {
      content: '▶';
      position: absolute;
      left: 0;
      color: var(--green);
      font-size: 1.2rem;
      text-shadow: 0 0 10px #00ff00;
    }

    @media (max-width: 768px) {
      .workflow-diagram {
        flex-direction: column;
      }

      .workflow-arrow {
        transform: rotate(90deg);
      }

      .extension-features,
      .features-grid,
      .architecture-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Hero Section */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 170px 20px 60px;
      background: transparent;
      position: relative;
    }

    .hero h1 {
      font-size: clamp(3rem, 10vw, 7rem);
      font-weight: 900;
      color: var(--cyan);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      line-height: 1.1;
      margin-bottom: 30px;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff,
        0 0 40px #00ffff;
      animation: glitch 3s infinite;
      position: relative;
    }

    .hero h1::before,
    .hero h1::after {
      content: 'AEGIS';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .hero h1::before {
      color: #ff00ff;
      animation: glitch-red 3s infinite;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
    }

    .hero h1::after {
      color: #00ffff;
      animation: glitch-blue 3s infinite;
      clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
    }

    @keyframes glitch-red {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
    }

    @keyframes glitch-blue {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(2px, -2px); }
      40% { transform: translate(2px, 2px); }
      60% { transform: translate(-2px, -2px); }
      80% { transform: translate(-2px, 2px); }
    }

    .hero .tagline {
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      color: var(--white);
      margin-bottom: 50px;
      max-width: 900px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      border: 3px solid #00ffff;
      padding: 30px 40px;
      background: rgba(0, 0, 0, 0.8);
      box-shadow: 
        0 0 20px #00ffff,
        inset 0 0 20px rgba(0, 255, 255, 0.1);
      position: relative;
      font-family: 'Orbitron', monospace;
    }

    .hero .tagline::before {
      content: '>>> ';
      color: #00ff00;
      text-shadow: 0 0 10px #00ff00;
    }

    .hero .tagline::after {
      content: ' <<<';
      color: #00ff00;
      text-shadow: 0 0 10px #00ff00;
    }

    .hero .cta-buttons {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      padding: 20px 50px;
      font-size: 1.2rem;
      font-weight: 900;
      border: 3px solid;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      display: inline-block;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-family: 'Orbitron', monospace;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: rgba(0, 255, 255, 0.1);
      color: var(--cyan);
      border-color: var(--cyan);
      box-shadow: 
        0 0 20px #00ffff,
        inset 0 0 20px rgba(0, 255, 255, 0.1);
      text-shadow: 0 0 10px #00ffff;
    }

    .btn-primary:hover {
      background: rgba(0, 255, 255, 0.2);
      box-shadow: 
        0 0 30px #00ffff,
        inset 0 0 30px rgba(0, 255, 255, 0.2);
      transform: scale(1.05);
    }

    .btn-secondary {
      background: rgba(255, 0, 255, 0.1);
      color: var(--magenta);
      border-color: var(--magenta);
      box-shadow: 
        0 0 20px #ff00ff,
        inset 0 0 20px rgba(255, 0, 255, 0.1);
      text-shadow: 0 0 10px #ff00ff;
    }

    .btn-secondary:hover {
      background: rgba(255, 0, 255, 0.2);
      box-shadow: 
        0 0 30px #ff00ff,
        inset 0 0 30px rgba(255, 0, 255, 0.2);
      transform: scale(1.05);
    }

    /* Progress Bar Style */
    .progress-bar {
      width: 100%;
      height: 30px;
      border: 3px solid #00ffff;
      background: rgba(0, 0, 0, 0.8);
      position: relative;
      overflow: hidden;
      box-shadow: 
        0 0 10px #00ffff,
        inset 0 0 10px rgba(0, 255, 255, 0.2);
      margin: 20px 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #00ffff, #00ff00);
      box-shadow: 0 0 20px #00ffff;
      animation: pulse 2s infinite;
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    /* Carousel Section */
    .carousel-section {
      padding: 100px 20px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 80px;
    }

    .section-header h2 {
      font-size: clamp(2rem, 5vw, 4rem);
      font-weight: 900;
      margin-bottom: 20px;
      color: var(--cyan);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff;
      animation: glitch 4s infinite;
    }

    .section-header p {
      font-size: 1.2rem;
      color: var(--white);
      max-width: 700px;
      margin: 0 auto;
      font-weight: 700;
      text-transform: uppercase;
      border: 3px solid #00ffff;
      padding: 20px;
      background: rgba(0, 0, 0, 0.8);
      box-shadow: 0 0 20px #00ffff;
      font-family: 'Orbitron', monospace;
    }

    .carousel-container {
      position: relative;
      overflow: hidden;
      border: 4px solid #00ffff;
      background: rgba(0, 0, 0, 0.9);
      padding: 60px 40px;
      min-height: 700px;
      box-shadow: 
        0 0 30px #00ffff,
        inset 0 0 30px rgba(0, 255, 255, 0.1);
    }

    .carousel-track {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .carousel-slide {
      min-width: 100%;
      padding: 0 20px;
      opacity: 0;
      transform: translateX(100px) scale(0.9);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .carousel-slide.active {
      opacity: 1;
      transform: translateX(0) scale(1);
    }

    .slide-content h3 {
      font-size: 2.5rem;
      font-weight: 900;
      margin-bottom: 30px;
      color: var(--cyan);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      border-bottom: 3px solid #00ffff;
      padding-bottom: 20px;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 0 0 10px #00ffff;
    }

    .slide-content .badge {
      display: inline-block;
      padding: 12px 24px;
      background: rgba(255, 255, 0, 0.2);
      color: var(--yellow);
      font-size: 0.9rem;
      font-weight: 900;
      margin-bottom: 30px;
      text-transform: uppercase;
      border: 3px solid #ffff00;
      box-shadow: 0 0 15px #ffff00;
      font-family: 'Press Start 2P', monospace;
      animation: glitch 3s infinite;
    }

    .slide-content p {
      font-size: 1.3rem;
      line-height: 1.8;
      color: var(--white);
      margin-bottom: 40px;
      font-weight: 700;
      font-family: 'Orbitron', monospace;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 50px;
    }

    .feature-card {
      background: rgba(0, 0, 0, 0.8);
      border: 3px solid #00ffff;
      padding: 40px;
      transition: all 0.3s ease;
      box-shadow: 0 0 20px #00ffff;
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      transform: rotate(45deg);
      transition: all 0.5s;
    }

    .feature-card:hover::before {
      animation: scan 1s linear;
    }

    @keyframes scan {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    .feature-card:hover {
      border-color: #00ff00;
      box-shadow: 0 0 30px #00ff00;
      transform: translateY(-5px);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 20px;
      filter: drop-shadow(0 0 10px #00ffff);
    }

    .feature-card h4 {
      font-size: 1.3rem;
      font-weight: 900;
      margin-bottom: 15px;
      color: var(--cyan);
      text-transform: uppercase;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 0 0 10px #00ffff;
    }

    .feature-card p {
      font-size: 1rem;
      color: var(--white);
      line-height: 1.6;
      font-weight: 700;
      font-family: 'Orbitron', monospace;
    }

    .code-block {
      background: rgba(0, 0, 0, 0.95);
      border: 3px solid #00ff00;
      padding: 25px 30px;
      margin: 30px 0;
      overflow-x: auto;
      font-family: 'Courier New', 'Consolas', monospace;
      font-size: 1rem;
      line-height: 1.6;
      box-shadow: 
        0 0 20px #00ff00,
        0 0 40px rgba(0, 255, 0, 0.3),
        inset 0 0 20px rgba(0, 255, 0, 0.1);
      position: relative;
      border-radius: 4px;
    }
    
    .code-block::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(0, 255, 0, 0.03) 2px,
          rgba(0, 255, 0, 0.03) 4px
        ),
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 2px,
          rgba(0, 255, 0, 0.03) 2px,
          rgba(0, 255, 0, 0.03) 4px
        );
      pointer-events: none;
      z-index: 0;
    }

    .code-block code {
      color: #00ff00;
      font-weight: 400;
      text-shadow: 
        0 0 10px #00ff00,
        0 0 20px rgba(0, 255, 0, 0.5);
      position: relative;
      z-index: 1;
      display: block;
      font-size: 0.95rem;
      letter-spacing: 0.5px;
    }

    /* Carousel Controls */
    .carousel-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 50px;
    }

    .carousel-dot {
      width: 20px;
      height: 20px;
      background: rgba(0, 255, 255, 0.3);
      border: 3px solid #00ffff;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0;
      box-shadow: 0 0 10px #00ffff;
    }

    .carousel-dot.active {
      background: #00ffff;
      width: 60px;
      box-shadow: 0 0 20px #00ffff;
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 60px;
      height: 60px;
      background: rgba(0, 255, 255, 0.1);
      border: 3px solid #00ffff;
      color: var(--cyan);
      font-size: 30px;
      font-weight: 900;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      z-index: 10;
      box-shadow: 0 0 20px #00ffff;
      font-family: 'Press Start 2P', monospace;
    }

    .carousel-nav:hover {
      background: rgba(0, 255, 255, 0.3);
      box-shadow: 0 0 30px #00ffff;
      transform: translateY(-50%) scale(1.1);
    }

    .carousel-nav.prev {
      left: 20px;
    }

    .carousel-nav.next {
      right: 20px;
    }

    /* Use Cases */
    .use-cases {
      padding: 100px 20px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .use-cases-header-wrapper {
      margin-bottom: 60px;
    }

    .use-cases-header-wrapper .section-header {
      margin: 0;
    }


    .use-case-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 40px;
      margin-top: 60px;
    }

    .use-case-card {
      background: rgba(0, 0, 0, 0.9);
      border: 4px solid #00ffff;
      padding: 50px;
      transition: all 0.3s ease;
      position: relative;
      box-shadow: 0 0 25px #00ffff;
      overflow: hidden;
    }

    .use-case-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      transition: left 0.5s;
    }

    .use-case-card:hover::after {
      left: 100%;
    }

    .use-case-card:hover {
      border-color: #00ff00;
      box-shadow: 0 0 35px #00ff00;
      transform: translateY(-5px);
    }

    .use-case-number {
      font-size: 5rem;
      font-weight: 900;
      color: rgba(0, 255, 255, 0.1);
      position: absolute;
      top: 20px;
      right: 30px;
      line-height: 1;
      font-family: 'Press Start 2P', monospace;
    }

    .use-case-card h3 {
      font-size: 1.8rem;
      font-weight: 900;
      margin-bottom: 20px;
      color: var(--cyan);
      text-transform: uppercase;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 0 0 10px #00ffff;
    }

    .use-case-card p {
      font-size: 1.1rem;
      line-height: 1.6;
      color: var(--white);
      margin-bottom: 30px;
      font-weight: 700;
      font-family: 'Orbitron', monospace;
    }

    .use-case-list {
      list-style: none;
    }

    .use-case-list li {
      padding: 15px 0;
      padding-left: 40px;
      position: relative;
      color: var(--white);
      font-size: 1rem;
      font-weight: 700;
      text-transform: uppercase;
      font-family: 'Orbitron', monospace;
    }

    .use-case-list li::before {
      content: '▶';
      position: absolute;
      left: 0;
      color: var(--green);
      font-size: 1.5rem;
      text-shadow: 0 0 10px #00ff00;
    }

    /* Technical Section */
    .technical-section {
      padding: 100px 20px;
      max-width: 1400px;
      margin: 0 auto;
      background: rgba(0, 0, 0, 0.9);
      border: 4px solid #00ffff;
      margin-top: 80px;
      margin-bottom: 80px;
      box-shadow: 0 0 30px #00ffff;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .tech-drone-container {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 300px;
      height: 300px;
      z-index: 10;
    }

    .tech-drone-container canvas {
      width: 100%;
      height: 100%;
    }

    .technical-section .section-header {
      margin-left: 340px; /* Move text to the right to avoid drone */
      text-align: left; /* Align left instead of center */
      margin-bottom: 60px;
    }

    .tech-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 25px;
      margin-top: 60px;
      margin-left: 340px; /* Make room for drone on the left */
      margin-right: auto;
      max-width: calc(100% - 360px);
      width: calc(100% - 360px);
      justify-items: stretch;
      align-items: start;
    }

    .tech-card {
      background: rgba(0, 0, 0, 0.8);
      border: 3px solid #00ffff;
      padding: 20px;
      box-shadow: 0 0 20px #00ffff;
      position: relative;
      overflow: hidden;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
      word-wrap: break-word;
      overflow-wrap: break-word;
      display: flex;
      flex-direction: column;
      min-height: 100%;
      hyphens: auto;
    }

    .tech-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #00ffff, #00ff00, #00ffff);
      transform: scaleX(0);
      transition: transform 0.3s;
    }

    .tech-card:hover::before {
      transform: scaleX(1);
    }

    .tech-card:hover {
      border-color: #00ff00;
      box-shadow: 0 0 30px #00ff00;
    }

    .tech-card h4 {
      font-size: 0.75rem;
      font-weight: 900;
      margin-bottom: 12px;
      color: var(--cyan);
      text-transform: uppercase;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 0 0 10px #00ffff;
      display: flex;
      align-items: flex-start;
      gap: 8px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      line-height: 1.2;
      flex-shrink: 0;
    }

    .tech-card h4::before {
      content: '⚡';
      font-size: 1rem;
      filter: drop-shadow(0 0 5px #ffff00);
      flex-shrink: 0;
    }

    .tech-card p {
      font-size: 0.8rem;
      color: var(--white);
      margin-bottom: 12px;
      font-weight: 700;
      line-height: 1.4;
      font-family: 'Orbitron', monospace;
      word-wrap: break-word;
      overflow-wrap: break-word;
      flex-grow: 0;
      hyphens: auto;
    }

    .tech-card ul {
      list-style: none;
      margin-top: 15px;
      flex-grow: 1;
      padding: 0;
    }

    .tech-card ul li {
      padding: 6px 0;
      padding-left: 22px;
      position: relative;
      color: var(--white);
      font-weight: 700;
      text-transform: uppercase;
      font-size: 0.7rem;
      font-family: 'Orbitron', monospace;
      word-wrap: break-word;
      overflow-wrap: break-word;
      line-height: 1.3;
      hyphens: auto;
    }

    .tech-card ul li::before {
      content: '→';
      position: absolute;
      left: 0;
      color: var(--magenta);
      font-size: 1rem;
      font-weight: 900;
      text-shadow: 0 0 10px #ff00ff;
    }

    /* Footer */
    .footer {
      padding: 80px 20px;
      text-align: center;
      border-top: 4px solid #00ffff;
      margin-top: 100px;
      background: rgba(0, 0, 0, 0.9);
      box-shadow: 0 -10px 30px #00ffff;
    }

    .footer p {
      color: var(--cyan);
      font-size: 1.2rem;
      font-weight: 900;
      text-transform: uppercase;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 0 0 10px #00ffff;
    }

    /* Scroll Indicator */
    .scroll-indicator {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      color: var(--cyan);
      font-size: 0.8rem;
      font-weight: 900;
      text-transform: uppercase;
      animation: bounce 2s infinite;
      font-family: 'Press Start 2P', monospace;
      text-shadow: 0 0 10px #00ffff;
    }

    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-15px); }
    }

    .scroll-indicator::after {
      content: '↓';
      font-size: 2rem;
      display: block;
      border: 3px solid #00ffff;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.9);
      box-shadow: 0 0 20px #00ffff;
      animation: pulse-glow 2s infinite;
    }

    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px #00ffff; }
      50% { box-shadow: 0 0 40px #00ffff, 0 0 60px #00ffff; }
    }

    /* Responsive */
    /* ============================================
       COMPREHENSIVE MOBILE OPTIMIZATION
       ============================================ */
    
    @media (max-width: 768px) {
      /* Base Typography - Ensure all text is readable */
      body {
        font-size: 14px;
        line-height: 1.6;
      }

      /* HUD Header - Compact for mobile */
      .hud-top {
        font-size: 7px;
        padding: 8px 12px;
        flex-wrap: wrap;
        gap: 5px;
      }

      .hud-stat {
        font-size: 7px;
        gap: 5px;
      }

      /* Navigation Tabs - Stack vertically on very small screens */
      .nav-tabs {
        top: 35px;
        flex-direction: column;
        flex-wrap: nowrap;
        border-bottom: none;
      }

      .nav-tab {
        font-size: 7px;
        padding: 12px 15px;
        width: 100%;
        border-right: none;
        border-bottom: 2px solid #00ffff;
        text-align: center;
        min-height: 44px; /* Touch-friendly */
      }

      .nav-tab:last-child {
        border-bottom: 2px solid #00ffff;
      }

      .tab-content {
        padding-top: 140px;
      }

      /* Hero Section */
      .hero {
        padding: 140px 15px 40px;
        min-height: auto;
      }

      .hero h1 {
        font-size: clamp(1.8rem, 8vw, 2.5rem);
        line-height: 1.2;
        margin-bottom: 20px;
        word-break: break-word;
      }

      .hero .tagline {
        font-size: clamp(0.75rem, 3vw, 1rem);
        padding: 20px 15px;
        margin-bottom: 30px;
        line-height: 1.5;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .hero .cta-buttons {
        flex-direction: column;
        gap: 15px;
        width: 100%;
        padding: 0 10px;
      }

      .btn {
        width: 100%;
        padding: 16px 20px;
        font-size: 11px;
        min-height: 48px; /* Touch-friendly */
      }

      /* Section Headers */
      .section-header {
        padding: 30px 15px;
        text-align: center;
      }

      .section-header h2 {
        font-size: clamp(1.5rem, 6vw, 2rem);
        line-height: 1.3;
        margin-bottom: 15px;
        word-wrap: break-word;
      }

      .section-header p {
        font-size: clamp(0.85rem, 3vw, 1rem);
        line-height: 1.6;
        padding: 0 10px;
        word-wrap: break-word;
      }

      .tab-section {
        padding: 40px 15px;
      }

      /* 3D Models - Optimize for mobile performance */
      .scanner-section {
        padding: 100px 15px 40px;
        margin: 40px 0;
        min-height: auto;
      }

      .scanner-container {
        height: 50vh;
        min-height: 350px;
        max-height: 500px;
      }

      .mantra-container {
        grid-template-columns: 1fr;
        gap: 30px;
        padding: 0 15px;
      }

      .mantra-model-container {
        height: 45vh;
        min-height: 300px;
        max-height: 400px;
      }

      .tech-drone-container {
        position: relative;
        width: 100%;
        height: 40vh;
        min-height: 250px;
        max-height: 350px;
        margin-bottom: 30px;
        top: 0;
        left: 0;
      }

      .gate-models-container {
        grid-template-columns: 1fr;
        gap: 25px;
        padding: 0 15px;
      }

      .gate-model-wrapper {
        height: 35vh;
        min-height: 250px;
        max-height: 350px;
      }

      .gate-message {
        order: -1;
        padding: 20px 15px;
      }

      .gate-title {
        font-size: clamp(1rem, 5vw, 1.5rem);
        margin-bottom: 20px;
        line-height: 1.3;
        word-wrap: break-word;
      }

      .gate-subtitle {
        font-size: clamp(0.75rem, 4vw, 1.1rem);
        line-height: 1.4;
        word-wrap: break-word;
      }

      /* Grid Layouts - Stack on mobile */
      .use-case-grid,
      .tech-grid,
      .extension-features,
      .features-grid,
      .architecture-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        margin-left: 0;
        padding: 0 10px;
      }

      .use-cases-header-wrapper {
        grid-template-columns: 1fr;
        gap: 25px;
        padding: 0 15px;
      }

      .technical-section .section-header {
        margin-left: 0;
        text-align: center;
        padding: 30px 15px;
      }

      /* Cards and Feature Items */
      .use-case-card,
      .tech-card,
      .extension-feature-card,
      .feature-card {
        padding: 20px 15px;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .use-case-card h3,
      .tech-card h3,
      .extension-feature-card h4 {
        font-size: clamp(0.9rem, 4vw, 1.1rem);
        line-height: 1.4;
        margin-bottom: 12px;
        word-wrap: break-word;
      }

      .use-case-card p,
      .tech-card p,
      .extension-feature-card p {
        font-size: clamp(0.8rem, 3vw, 0.95rem);
        line-height: 1.6;
        word-wrap: break-word;
      }

      .extension-feature-card .feature-icon {
        font-size: 2rem;
        margin-bottom: 12px;
      }

      /* Carousel */
      .carousel-container {
        padding: 30px 15px;
      }

      .carousel-nav {
        display: none;
      }

      .carousel-dots {
        margin-top: 20px;
      }

      /* Buttons - Touch-friendly sizing */
      .glitch-button {
        width: 100%;
        padding: 14px 20px;
        font-size: 9px;
        min-height: 48px;
        margin-bottom: 15px;
      }

      /* Extension Section */
      .extension-container {
        padding: 0 15px;
      }

      .extension-section {
        padding: 25px 15px;
        margin-bottom: 30px;
      }

      .extension-section h3 {
        font-size: clamp(1.2rem, 5vw, 1.6rem);
        line-height: 1.3;
        margin-bottom: 20px;
        word-wrap: break-word;
      }

      .extension-section h4 {
        font-size: clamp(1rem, 4vw, 1.2rem);
        margin-top: 18px;
        margin-bottom: 12px;
        word-wrap: break-word;
      }

      .extension-section p {
        font-size: clamp(0.85rem, 3vw, 0.95rem);
        line-height: 1.7;
        word-wrap: break-word;
      }

      /* Install Steps */
      .install-steps {
        gap: 25px;
      }

      .install-step {
        flex-direction: column;
        gap: 15px;
        align-items: center;
        text-align: center;
      }

      .step-number {
        min-width: 45px;
        height: 45px;
        font-size: 1.2rem;
      }

      .step-content {
        width: 100%;
      }

      .step-content h4 {
        font-size: clamp(0.9rem, 4vw, 1rem);
        margin-bottom: 8px;
        word-wrap: break-word;
      }

      .step-content p {
        font-size: clamp(0.8rem, 3vw, 0.9rem);
        word-wrap: break-word;
      }

      /* Workflow Diagram */
      .workflow-diagram {
        flex-direction: column;
        padding: 20px 15px;
        gap: 15px;
      }

      .workflow-arrow {
        transform: rotate(90deg);
        margin: 10px 0;
      }

      .workflow-step {
        width: 100%;
        max-width: 100%;
        min-width: auto;
        padding: 20px 15px;
      }

      .workflow-icon {
        font-size: 2.5rem;
        margin-bottom: 12px;
      }

      /* Test Simulation Section */
      .test-simulator {
        padding: 20px 15px;
        margin-top: 25px;
      }

      .test-simulation {
        padding: 25px 15px;
      }

      .test-simulation h3 {
        font-size: clamp(1.2rem, 5vw, 1.5rem);
        margin-bottom: 20px;
        word-wrap: break-word;
      }

      .wallet-status-box {
        padding: 15px 12px;
        font-size: 8px;
        flex-wrap: wrap;
        gap: 10px;
        word-wrap: break-word;
      }

      .status-indicator {
        width: 10px;
        height: 10px;
        flex-shrink: 0;
      }

      .status-text {
        font-size: 8px;
        word-wrap: break-word;
        flex: 1;
        min-width: 0;
      }

      .test-actions {
        gap: 12px;
        margin-bottom: 20px;
      }

      .test-buttons {
        flex-direction: column;
        gap: 12px;
      }

      .test-log {
        padding: 12px;
        font-size: clamp(0.7rem, 3vw, 0.8rem);
        max-height: 250px;
        word-wrap: break-word;
        overflow-wrap: break-word;
        line-height: 1.5;
      }

      .test-info {
        padding: 15px 12px;
        margin-top: 20px;
      }

      .test-info ol {
        margin-top: 12px;
        padding-left: 20px;
      }

      .test-info li {
        font-size: clamp(0.75rem, 3vw, 0.85rem);
        margin-bottom: 10px;
        word-wrap: break-word;
        line-height: 1.6;
      }

      /* Roadmap */
      .roadmap-container {
        gap: 30px;
        padding: 0 15px;
      }

      .roadmap-phase {
        padding: 25px 15px;
        word-wrap: break-word;
      }

      .phase-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 18px;
      }

      .phase-badge {
        font-size: 7px;
        padding: 6px 12px;
      }

      .phase-header h3 {
        font-size: clamp(1.1rem, 4vw, 1.4rem);
        line-height: 1.3;
        word-wrap: break-word;
      }

      .phase-items {
        padding-right: 10px;
      }

      .phase-items li {
        font-size: clamp(0.85rem, 3vw, 0.95rem);
        line-height: 1.6;
        padding-left: 15px;
        padding-right: 5px;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      /* Integration & Whitepaper Sections */
      .integrate-section,
      .whitepaper-section {
        padding: 25px 15px;
        word-wrap: break-word;
      }

      .integrate-section h3,
      .whitepaper-section h3 {
        font-size: clamp(1.2rem, 5vw, 1.5rem);
        line-height: 1.3;
        margin-bottom: 18px;
        word-wrap: break-word;
      }

      .integrate-section h4,
      .whitepaper-section h4 {
        font-size: clamp(1rem, 4vw, 1.2rem);
        margin-top: 20px;
        margin-bottom: 12px;
        word-wrap: break-word;
      }

      .integrate-section p,
      .whitepaper-section p {
        font-size: clamp(0.85rem, 3vw, 0.95rem);
        line-height: 1.7;
        margin-bottom: 12px;
        word-wrap: break-word;
      }

      .extension-section ul,
      .extension-section ol,
      .whitepaper-section ul,
      .whitepaper-section ol {
        margin-left: 20px;
        margin-bottom: 18px;
        font-size: clamp(0.85rem, 3vw, 0.95rem);
        padding-right: 10px;
      }

      .extension-section li,
      .whitepaper-section li {
        margin-bottom: 8px;
        word-wrap: break-word;
        line-height: 1.6;
      }

      .extension-section code {
        font-size: clamp(0.75rem, 3vw, 0.85rem);
        padding: 3px 5px;
        word-break: break-all;
        display: inline-block;
        max-width: 100%;
      }

      .extension-section strong,
      .whitepaper-section strong {
        word-wrap: break-word;
      }

      /* Integrate Gate */
      .integrate-gate {
        padding: 30px 15px 100px;
        min-height: auto;
      }

      /* Background adjustments for mobile */
      .background-container {
        background-attachment: scroll; /* Better performance on mobile */
      }

      /* Space particles - reduce on mobile for performance */
      .space-particles-canvas {
        opacity: 0.5;
      }
    }

    /* Extra small devices (phones in portrait, < 480px) */
    @media (max-width: 480px) {
      .hero h1 {
        font-size: clamp(1.5rem, 7vw, 2rem);
      }

      .hero .tagline {
        font-size: clamp(0.7rem, 3vw, 0.9rem);
        padding: 15px 12px;
      }

      .hud-top {
        font-size: 6px;
        padding: 6px 10px;
      }

      .nav-tab {
        font-size: 6px;
        padding: 10px 12px;
      }

      .section-header h2 {
        font-size: clamp(1.3rem, 6vw, 1.8rem);
      }

      .btn {
        font-size: 10px;
        padding: 14px 18px;
      }

      .glitch-button {
        font-size: 8px;
        padding: 12px 18px;
      }

      .scanner-container,
      .mantra-model-container,
      .tech-drone-container,
      .gate-model-wrapper {
        min-height: 250px;
        max-height: 300px;
      }

      .tab-section {
        padding: 30px 12px;
      }

      .extension-section,
      .integrate-section,
      .whitepaper-section,
      .roadmap-phase {
        padding: 20px 12px;
      }
    }

    html {
      scroll-behavior: smooth;
    }

    /* 3D Scanner Section */
    .scanner-section {
      min-height: 100vh;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 120px 20px;
      background: rgba(0, 0, 0, 0.7);
      border-top: 4px solid #00ffff;
      border-bottom: 4px solid #00ffff;
      margin: 80px 0;
      box-shadow: 
        0 0 50px #00ffff,
        inset 0 0 50px rgba(0, 255, 255, 0.1);
    }

    .scanner-container {
      position: relative;
      width: 100%;
      max-width: 1400px;
      height: 80vh;
      min-height: 800px;
      background: rgba(0, 0, 0, 0.9);
      overflow: hidden;
    }

    #scanner-canvas {
      width: 100%;
      height: 100%;
      display: block;
    }

    .scanner-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      z-index: 2;
      background: 
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(0, 255, 255, 0.03) 2px,
          rgba(0, 255, 255, 0.03) 4px
        );
    }

    .scanner-info {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.9);
      border: 3px solid #00ffff;
      padding: 20px;
      box-shadow: 0 0 20px #00ffff;
      z-index: 3;
    }

    .scanner-info h3 {
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      color: #00ffff;
      text-shadow: 0 0 10px #00ffff;
      margin-bottom: 10px;
      text-transform: uppercase;
    }

    .scanner-info p {
      font-family: 'Orbitron', monospace;
      font-size: 0.9rem;
      color: #ffffff;
      font-weight: 700;
      line-height: 1.6;
    }

    .scanner-status {
      display: inline-block;
      width: 12px;
      height: 12px;
      background: #00ff00;
      border-radius: 50%;
      box-shadow: 0 0 10px #00ff00;
      animation: pulse-status 2s infinite;
      margin-right: 10px;
    }

    @keyframes pulse-status {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .scan-line {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #00ffff, transparent);
      box-shadow: 0 0 20px #00ffff;
      animation: scan-animation 3s linear infinite;
      z-index: 1;
    }

    @keyframes scan-animation {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }

    /* Mantra Section - Left Side Model */
    .mantra-section {
      min-height: 100vh;
      position: relative;
      display: flex;
      align-items: center;
      padding: 120px 40px;
      background: rgba(0, 0, 0, 0.7);
      border-top: 4px solid #00ffff;
      border-bottom: 4px solid #00ffff;
      margin: 80px 0;
      box-shadow: 
        0 0 50px #00ffff,
        inset 0 0 50px rgba(0, 255, 255, 0.1);
    }

    .mantra-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      width: 100%;
      max-width: 1600px;
      margin: 0 auto;
      align-items: center;
    }

    .mantra-model-container {
      position: relative;
      width: 100%;
      height: 80vh;
      min-height: 700px;
      background: rgba(0, 0, 0, 0.95);
      overflow: hidden;
    }

    #mantra-canvas {
      width: 100%;
      height: 100%;
      display: block;
    }

    .mantra-text-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 40px;
    }

    .mantra-title {
      font-family: 'Press Start 2P', monospace;
      font-size: clamp(2rem, 4vw, 3.5rem);
      color: #00ffff;
      text-shadow: 
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 30px #00ffff;
      margin-bottom: 40px;
      line-height: 1.4;
      text-transform: uppercase;
      animation: glitch 3s infinite;
    }

    .mantra-text {
      font-family: 'Orbitron', monospace;
      font-size: clamp(1.2rem, 2vw, 1.8rem);
      color: #ffffff;
      font-weight: 700;
      line-height: 1.8;
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      margin-bottom: 30px;
    }

    .mantra-highlight {
      color: #00ffff;
      text-shadow: 0 0 15px #00ffff;
      font-weight: 900;
    }
  </style>
</head>
<body>
  <div class="noise"></div>
  
  <div class="background-container">
    <div class="stars"></div>
    
  </div>

  <div class="content">
    <!-- HUD Top Bar -->
    <div class="hud-top">
      <div class="hud-stat">
        <span class="hud-label">SYSTEM:</span>
        <span class="hud-value">ONLINE</span>
      </div>
      <div class="hud-stat">
        <span class="hud-label">RISK_SCORE:</span>
        <span class="hud-value">0.00</span>
      </div>
      <div class="hud-stat">
        <span class="hud-label">ANALYZED:</span>
        <span class="hud-value">1,337</span>
      </div>
      <div class="hud-stat">
        <span class="hud-label">STATUS:</span>
        <span class="hud-value">ACTIVE</span>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <nav class="nav-tabs">
      <button class="nav-tab active" data-tab="home">HOME</button>
      <button class="nav-tab" data-tab="roadmap">ROADMAP</button>
      <button class="nav-tab" data-tab="integrate">HOW TO INTEGRATE</button>
      <button class="nav-tab" data-tab="extension">BROWSER EXTENSION</button>
      <button class="nav-tab" data-tab="whitepaper">WHITEPAPER</button>
    </nav>

    <!-- Home Content (default visible) -->
    <canvas id="space-particles-canvas" class="space-particles-canvas"></canvas>
    <div id="home-content" class="tab-content active">
    <!-- Hero Section -->
    <section class="hero">
      <h1>AEGIS</h1>
      <p class="tagline">
        Pre-execution risk analysis for EVM transactions. 
        Deterministic, verifiable, and trustless security for Web3.
      </p>
      <div class="cta-buttons">
        <a href="#carousel" class="btn btn-primary">EXPLORE</a>
        <a href="#use-cases" class="btn btn-secondary">USE CASES</a>
      </div>
      <div class="scroll-indicator">SCROLL</div>
    </section>

    <!-- 3D Scanner Section -->
    <section class="scanner-section">
      <div class="scanner-container">
        <canvas id="scanner-canvas"></canvas>
        <div class="scan-line"></div>
        <div class="scanner-overlay"></div>
        <div class="scanner-info">
          <h3><span class="scanner-status"></span>SECURITY SCANNER ACTIVE</h3>
          <p>
            AEGIS Protocol scans every transaction before execution, just like a TSA security checkpoint. 
            Our advanced risk analysis engine examines transaction traces in real-time, identifying potential 
            threats, vulnerabilities, and suspicious patterns before they can cause harm.
          </p>
        </div>
      </div>
    </section>

    <!-- Carousel Section -->
    <section class="carousel-section" id="carousel">
      <div class="section-header">
        <h2>HOW AEGIS WORKS</h2>
        <p>Comprehensive risk analysis before transaction execution</p>
      </div>

      <div class="carousel-container">
        <div class="carousel-track" id="carouselTrack">
          <!-- Slide 1: Overview -->
          <div class="carousel-slide active">
            <div class="slide-content">
              <span class="badge">CORE TECHNOLOGY</span>
              <h3>Deterministic Risk Analysis</h3>
              <p>
                AEGIS analyzes EVM transactions before execution, providing deterministic 
                risk scores based on verifiable rules. Every analysis produces the same 
                result for the same input, ensuring consistency and trust.
              </p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
              </div>
              <div class="feature-grid">
                <div class="feature-card">
                  <div class="feature-icon">🔒</div>
                  <h4>Deterministic</h4>
                  <p>Same input always produces the same risk score, enabling verifiable analysis.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">📊</div>
                  <h4>Real-time</h4>
                  <p>Analyze transactions in milliseconds before they execute on-chain.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">🔍</div>
                  <h4>Comprehensive</h4>
                  <p>Multiple risk rules covering upgradeable contracts, reentrancy, and more.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Slide 2: Evidence System -->
          <div class="carousel-slide">
            <div class="slide-content">
              <span class="badge">EVIDENCE & VERIFICATION</span>
              <h3>Cryptographically Signed Evidence</h3>
              <p>
                Every risk analysis generates cryptographically signed evidence bundles. 
                These bundles can be verified independently, providing proof of risk 
                assessment without requiring trust in the analyzer.
              </p>
              <div class="feature-grid">
                <div class="feature-card">
                  <div class="feature-icon">✍️</div>
                  <h4>Signed Evidence</h4>
                  <p>Each analysis result is cryptographically signed for verification.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">📦</div>
                  <h4>Evidence Bundles</h4>
                  <p>Complete analysis data packaged in verifiable JSON bundles.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">🔐</div>
                  <h4>Canonical JSON</h4>
                  <p>Deterministic JSON serialization ensures consistent hashing.</p>
                </div>
              </div>
              <div class="code-block">
                <code>
{<br>
&nbsp;&nbsp;"traceHash": "0xabc123...",<br>
&nbsp;&nbsp;"signature": "0xdef456...",<br>
&nbsp;&nbsp;"riskScore": { "total": 750 },<br>
&nbsp;&nbsp;"triggeredRules": [...]<br>
}
                </code>
              </div>
            </div>
          </div>

          <!-- Slide 3: Risk Rules -->
          <div class="carousel-slide">
            <div class="slide-content">
              <span class="badge">RISK DETECTION</span>
              <h3>Comprehensive Risk Rules</h3>
              <p>
                AEGIS implements multiple risk detection rules that identify potential 
                security issues, suspicious patterns, and high-risk transaction types.
              </p>
              <div class="feature-grid">
                <div class="feature-card">
                  <div class="feature-icon">⚠️</div>
                  <h4>Upgradeable Proxy</h4>
                  <p>Detects interactions with upgradeable proxy contracts that could be exploited.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">🔄</div>
                  <h4>Reentrancy Risk</h4>
                  <p>Identifies potential reentrancy vulnerabilities in transaction flows.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">📈</div>
                  <h4>Context Prior Risk</h4>
                  <p>Tracks historical risk events to identify suspicious patterns over time.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">🎯</div>
                  <h4>Custom Rules</h4>
                  <p>Extensible rule system for adding domain-specific risk detection.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Slide 4: API & Integration -->
          <div class="carousel-slide">
            <div class="slide-content">
              <span class="badge">DEVELOPER EXPERIENCE</span>
              <h3>Simple API, Powerful Results</h3>
              <p>
                Integrate AEGIS into wallets, dapps, or backend services with a clean, 
                simple API. Get risk verdicts in milliseconds with minimal configuration.
              </p>
              <div class="feature-grid">
                <div class="feature-card">
                  <div class="feature-icon">🌐</div>
                  <h4>HTTP API</h4>
                  <p>RESTful endpoints for /analyze and /verdict with JSON responses.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">💻</div>
                  <h4>TypeScript SDK</h4>
                  <p>Full TypeScript support with type-safe interfaces and async/await.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">🔌</div>
                  <h4>Browser Extension</h4>
                  <p>Chrome/Brave extension for real-time transaction analysis in wallets.</p>
                </div>
              </div>
              <div class="code-block">
                <code>
const verdict = await getVerdict({<br>
&nbsp;&nbsp;normalizedTrace: txTrace,<br>
&nbsp;&nbsp;useContext: true<br>
});<br><br>
// Returns: { allow, score, severity, message, topRules }
                </code>
              </div>
            </div>
          </div>

          <!-- Slide 5: Trust Graph -->
          <div class="carousel-slide">
            <div class="slide-content">
              <span class="badge">ADVANCED FEATURES</span>
              <h3>Trust Graph & Replay</h3>
              <p>
                AEGIS maintains a trust graph of addresses and contracts, enabling 
                sophisticated risk analysis based on historical interactions and 
                reputation. Replay capabilities allow verification of past analyses.
              </p>
              <div class="feature-grid">
                <div class="feature-card">
                  <div class="feature-icon">🕸️</div>
                  <h4>Trust Graph</h4>
                  <p>Network analysis of address relationships and trust scores.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">▶️</div>
                  <h4>Replay System</h4>
                  <p>Verify past analyses by replaying transactions with stored evidence.</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon">💾</div>
                  <h4>Persistent Storage</h4>
                  <p>Evidence stored for audit trails and historical risk tracking.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <button class="carousel-nav prev" id="prevBtn">‹</button>
        <button class="carousel-nav next" id="nextBtn">›</button>
      </div>

      <div class="carousel-controls">
        <button class="carousel-dot active" data-slide="0"></button>
        <button class="carousel-dot" data-slide="1"></button>
        <button class="carousel-dot" data-slide="2"></button>
        <button class="carousel-dot" data-slide="3"></button>
        <button class="carousel-dot" data-slide="4"></button>
      </div>
    </section>

    <!-- Mantra Section with Left Model -->
    <section class="mantra-section">
      <div class="mantra-container">
        <div class="mantra-model-container">
          <canvas id="mantra-canvas"></canvas>
          <div class="scan-line"></div>
          <div class="scanner-overlay"></div>
        </div>
        <div class="mantra-text-container">
          <h2 class="mantra-title">TRUST BEFORE EXECUTION</h2>
          <p class="mantra-text">
            <span class="mantra-highlight">AEGIS</span> stands as the final checkpoint before your transaction reaches the blockchain. 
            Every operation is scanned, analyzed, and verified—ensuring that only safe, legitimate transactions proceed.
          </p>
          <p class="mantra-text">
            <span class="mantra-highlight">Deterministic. Verifiable. Trustless.</span> Our protocol provides cryptographic proof 
            of risk assessment, giving you complete transparency and control over your Web3 interactions.
          </p>
          <p class="mantra-text">
            In a world where one wrong transaction can mean everything, <span class="mantra-highlight">AEGIS is your shield.</span>
          </p>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="use-cases" id="use-cases">
      <div class="use-cases-header-wrapper">
        <div class="section-header">
          <h2>USE CASES</h2>
          <p>Protecting users and protocols across the Web3 ecosystem</p>
        </div>
        
      </div>

      <div class="use-case-grid">
        <div class="use-case-card">
          <div class="use-case-number">01</div>
          <h3>Wallet Protection</h3>
          <p>
            Integrate AEGIS into wallet applications to warn users before they 
            sign potentially risky transactions. Real-time risk analysis prevents 
            users from falling victim to scams and exploits.
          </p>
          <ul class="use-case-list">
            <li>Pre-transaction risk warnings</li>
            <li>Visual risk indicators in UI</li>
            <li>Block high-risk transactions (optional)</li>
            <li>Educational risk explanations</li>
            <li>Historical risk tracking per address</li>
          </ul>
        </div>

        <div class="use-case-card">
          <div class="use-case-number">02</div>
          <h3>Dapp Security</h3>
          <p>
            Dapps can integrate AEGIS to analyze transactions before submission, 
            providing users with transparent risk information and building trust 
            through proactive security measures.
          </p>
          <ul class="use-case-list">
            <li>Pre-submission transaction analysis</li>
            <li>Risk transparency for users</li>
            <li>Integration with MetaMask and other wallets</li>
            <li>Custom risk thresholds per dapp</li>
            <li>Audit trail for compliance</li>
          </ul>
        </div>

        <div class="use-case-card">
          <div class="use-case-number">03</div>
          <h3>Backend Services</h3>
          <p>
            Backend services can use AEGIS to screen transactions, filter out 
            high-risk operations, and maintain compliance records. Perfect for 
            exchanges, bridges, and DeFi protocols.
          </p>
          <ul class="use-case-list">
            <li>Transaction screening API</li>
            <li>Automated risk filtering</li>
            <li>Compliance and audit logging</li>
            <li>Batch transaction analysis</li>
            <li>Custom rule configuration</li>
          </ul>
        </div>

        <div class="use-case-card">
          <div class="use-case-number">04</div>
          <h3>Regulatory Compliance</h3>
          <p>
            Financial institutions and regulated entities can use AEGIS to 
            demonstrate due diligence in transaction risk assessment, with 
            cryptographically verifiable evidence bundles.
          </p>
          <ul class="use-case-list">
            <li>Verifiable risk assessment records</li>
            <li>Cryptographic proof of analysis</li>
            <li>Immutable audit trails</li>
            <li>Regulatory reporting support</li>
            <li>Third-party verification capability</li>
          </ul>
        </div>

        <div class="use-case-card">
          <div class="use-case-number">05</div>
          <h3>Insurance & Risk Management</h3>
          <p>
            Insurance providers and risk management platforms can leverage AEGIS 
            to assess transaction risk for underwriting, pricing, and claims 
            analysis in Web3 insurance products.
          </p>
          <ul class="use-case-list">
            <li>Risk-based pricing models</li>
            <li>Claims verification and analysis</li>
            <li>Historical risk pattern analysis</li>
            <li>Portfolio risk assessment</li>
            <li>Automated underwriting support</li>
          </ul>
        </div>

        <div class="use-case-card">
          <div class="use-case-number">06</div>
          <h3>Developer Tools</h3>
          <p>
            Developers building smart contracts and dapps can use AEGIS during 
            development and testing to identify potential security issues before 
            deployment.
          </p>
          <ul class="use-case-list">
            <li>Pre-deployment risk analysis</li>
            <li>CI/CD integration</li>
            <li>Test suite risk validation</li>
            <li>Security best practices guidance</li>
            <li>Contract interaction analysis</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Technical Details -->
    <section class="technical-section">
      <div class="section-header">
        <h2>TECHNICAL ARCHITECTURE</h2>
        <p>Built for performance, security, and scalability</p>
      </div>

      <!-- Drone Model in top-left -->
      <div class="tech-drone-container">
        <canvas id="tech-drone-canvas"></canvas>
      </div>

      <div class="tech-grid">
        <div class="tech-card">
          <h4>Deterministic Analysis</h4>
          <p>
            Every analysis is deterministic: the same transaction trace always 
            produces the same risk score. This enables verification, caching, 
            and trustless operation.
          </p>
          <ul>
            <li>Canonical JSON serialization</li>
            <li>Deterministic trace hashing</li>
            <li>Reproducible rule execution</li>
            <li>No external dependencies in core logic</li>
          </ul>
        </div>

        <div class="tech-card">
          <h4>Evidence System</h4>
          <p>
            Cryptographically signed evidence bundles provide verifiable proof 
            of risk analysis. Anyone can verify an analysis result without 
            trusting the analyzer.
          </p>
          <ul>
            <li>ECDSA signature verification</li>
            <li>Canonical JSON for hashing</li>
            <li>Complete analysis data in bundles</li>
            <li>Third-party verification support</li>
          </ul>
        </div>

        <div class="tech-card">
          <h4>Rule Engine</h4>
          <p>
            Extensible rule system allows adding custom risk detection logic. 
            Rules are composable, testable, and independently verifiable.
          </p>
          <ul>
            <li>Modular rule architecture</li>
            <li>Rule composition and chaining</li>
            <li>Configurable rule weights</li>
            <li>Test harness for regression testing</li>
          </ul>
        </div>

        <div class="tech-card">
          <h4>Normalization Layer</h4>
          <p>
            Unified normalization layer converts various transaction formats 
            (raw transactions, execution traces, fixtures) into a standard 
            NormalizedTrace format.
          </p>
          <ul>
            <li>Multiple input format support</li>
            <li>Automatic BigInt handling</li>
            <li>Trace hash computation</li>
            <li>Type-safe TypeScript interfaces</li>
          </ul>
        </div>

        <div class="tech-card">
          <h4>Persistent Storage</h4>
          <p>
            Evidence and risk history stored persistently for context-based 
            analysis, audit trails, and historical risk pattern detection.
          </p>
          <ul>
            <li>File-based persistent store</li>
            <li>Evidence record management</li>
            <li>Context prior risk tracking</li>
            <li>Test isolation support</li>
          </ul>
        </div>

        <div class="tech-card">
          <h4>API & Integration</h4>
          <p>
            Clean, simple API for integration into wallets, dapps, and backend 
            services. HTTP server, TypeScript SDK, and browser extension support.
          </p>
          <ul>
            <li>Fastify HTTP server</li>
            <li>TypeScript SDK with full types</li>
            <li>Chrome/Brave extension</li>
            <li>CORS support for browser clients</li>
          </ul>
        </div>
      </div>
    </section>
    </div>

    <!-- Roadmap Tab Content -->
    <div id="roadmap-content" class="tab-content">
      <section class="tab-section">
        <div class="section-header">
          <h2>AEGIS ROADMAP</h2>
          <p>Our comprehensive development and growth plan</p>
        </div>

        <div class="roadmap-container">
          <div class="roadmap-phase">
            <div class="phase-header">
              <span class="phase-badge">Q1 2026</span>
              <h3>FOUNDATION & CORE PROTOCOL</h3>
            </div>
            <div class="phase-content">
              <ul class="phase-items">
                <li>✅ Core risk analysis engine implementation</li>
                <li>✅ Deterministic trace normalization system</li>
                <li>✅ Evidence bundle generation and signing</li>
                <li>✅ Initial risk rule set (upgradeable proxy, reentrancy, context prior risk)</li>
                <li>✅ TypeScript SDK with clean API</li>
                <li>✅ HTTP server with /analyze and /verdict endpoints</li>
                <li>✅ Browser extension (Chrome/Brave MV3)</li>
                <li>✅ Regression test harness</li>
                <li>✅ CLI tools for analysis and validation</li>
              </ul>
            </div>
          </div>

          <div class="roadmap-phase">
            <div class="phase-header">
              <span class="phase-badge">Q2 2026</span>
              <h3>EXPANSION & INTEGRATION</h3>
            </div>
            <div class="phase-content">
              <ul class="phase-items">
                <li>🔄 Extended risk rule library (20+ rules)</li>
                <li>🔄 Trust graph implementation with network analysis</li>
                <li>🔄 Replay system for historical verification</li>
                <li>🔄 Multi-chain support (Ethereum, Polygon, Arbitrum, Optimism)</li>
                <li>🔄 Wallet integrations (MetaMask, WalletConnect, Coinbase Wallet)</li>
                <li>🔄 Dapp SDK with React hooks</li>
                <li>🔄 Real-time risk monitoring dashboard</li>
                <li>🔄 API rate limiting and authentication</li>
                <li>🔄 Cloud deployment infrastructure</li>
              </ul>
            </div>
          </div>

          <div class="roadmap-phase">
            <div class="phase-header">
              <span class="phase-badge">Q3 2026</span>
              <h3>ADVANCED FEATURES & ECOSYSTEM</h3>
            </div>
            <div class="phase-content">
              <ul class="phase-items">
                <li>⏳ Machine learning risk pattern detection</li>
                <li>⏳ Decentralized analyzer network</li>
                <li>⏳ Governance token and DAO structure</li>
                <li>⏳ Staking mechanism for validators</li>
                <li>⏳ Cross-chain risk analysis</li>
                <li>⏳ Advanced trust scoring algorithms</li>
                <li>⏳ Mobile SDK (iOS/Android)</li>
                <li>⏳ Enterprise API with SLA guarantees</li>
                <li>⏳ Insurance integration partnerships</li>
              </ul>
            </div>
          </div>

          <div class="roadmap-phase">
            <div class="phase-header">
              <span class="phase-badge">Q4 2026</span>
              <h3>SCALE & ADOPTION</h3>
            </div>
            <div class="phase-content">
              <ul class="phase-items">
                <li>⏳ Mainnet launch and public beta</li>
                <li>⏳ Major exchange integrations</li>
                <li>⏳ DeFi protocol partnerships</li>
                <li>⏳ Regulatory compliance certifications</li>
                <li>⏳ Open source community governance</li>
                <li>⏳ Developer grant program</li>
                <li>⏳ Security audit and bug bounty program</li>
                <li>⏳ Global marketing and adoption campaigns</li>
                <li>⏳ Enterprise sales and partnerships</li>
              </ul>
            </div>
          </div>

          <div class="roadmap-phase">
            <div class="phase-header">
              <span class="phase-badge">2025+</span>
              <h3>FUTURE VISION</h3>
            </div>
            <div class="phase-content">
              <ul class="phase-items">
                <li>🔮 AI-powered risk prediction models</li>
                <li>🔮 Zero-knowledge proof integration for privacy</li>
                <li>🔮 Layer 2 and rollup optimizations</li>
                <li>🔮 Global risk intelligence network</li>
                <li>🔮 Real-time threat intelligence feeds</li>
                <li>🔮 Automated response and mitigation systems</li>
                <li>🔮 Cross-protocol risk correlation</li>
                <li>🔮 Quantum-resistant cryptography</li>
                <li>🔮 Web3 security standard establishment</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- How to Integrate Tab Content -->
    <div id="integrate-content" class="tab-content">
      <!-- Gate Overlay -->
      <div class="integrate-gate">
        <div class="gate-models-container">
          <!-- Left Model: Military Drone -->
          <div class="gate-model-wrapper gate-model-left">
            <canvas id="gate-military-canvas"></canvas>
          </div>
          
          <!-- Center Message -->
          <div class="gate-message">
            <h2 class="gate-title">ACCESS CLASSIFIED</h2>
            <p class="gate-subtitle">PLAYER DOES NOT HAVE ACCESS</p>
            <div class="gate-pulse"></div>
          </div>
          
          <!-- Right Model: Alice -->
          <div class="gate-model-wrapper gate-model-right">
            <canvas id="gate-alice-canvas"></canvas>
          </div>
        </div>
      </div>

      <!-- Blurred Content (hidden for now) -->
      <section class="tab-section integrate-content-blurred">
        <div class="section-header">
          <h2>HOW TO INTEGRATE AEGIS</h2>
          <p>Comprehensive integration guide for developers</p>
        </div>

        <div class="integrate-container">
          <div class="integrate-section">
            <h3>1. INSTALLATION</h3>
            <div class="code-block">
              <code>
npm install @aegis-protocol/core<br>
# or<br>
yarn add @aegis-protocol/core
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>2. BASIC USAGE (TypeScript SDK)</h3>
            <div class="code-block">
              <code>
import { analyzeTransaction, getVerdict } from '@aegis-protocol/core';<br>
import { normalizeInputToTrace } from '@aegis-protocol/core';<br><br>
// Normalize your transaction data<br>
const normalizedTrace = normalizeInputToTrace({<br>
&nbsp;&nbsp;transaction: rawTx,<br>
&nbsp;&nbsp;execution: executionTrace,<br>
&nbsp;&nbsp;metadata: { chainId: 1 }<br>
});<br><br>
// Get a verdict (simplified response)<br>
const verdict = await getVerdict({<br>
&nbsp;&nbsp;normalizedTrace,<br>
&nbsp;&nbsp;useContext: true<br>
});<br><br>
// verdict = { allow, score, severity, message, topRules }<br>
if (!verdict.allow) {<br>
&nbsp;&nbsp;console.warn('High risk transaction:', verdict.message);<br>
}
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>3. HTTP API INTEGRATION</h3>
            <p>Start the AEGIS server:</p>
            <div class="code-block">
              <code>
npm run serve<br>
# Server runs on http://127.0.0.1:8787
              </code>
            </div>
            <p>Make API calls:</p>
            <div class="code-block">
              <code>
// POST /verdict<br>
const response = await fetch('http://127.0.0.1:8787/verdict', {<br>
&nbsp;&nbsp;method: 'POST',<br>
&nbsp;&nbsp;headers: { 'Content-Type': 'application/json' },<br>
&nbsp;&nbsp;body: JSON.stringify({<br>
&nbsp;&nbsp;&nbsp;&nbsp;normalizedTrace: traceData,<br>
&nbsp;&nbsp;&nbsp;&nbsp;useContext: true<br>
&nbsp;&nbsp;})<br>
});<br><br>
const verdict = await response.json();<br>
// { allow: false, score: 750, severity: 'high', message: '...', topRules: [...] }
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>4. WALLET INTEGRATION</h3>
            <p>Install the browser extension or integrate directly:</p>
            <div class="code-block">
              <code>
// Intercept transaction requests<br>
const originalRequest = window.ethereum.request;<br>
window.ethereum.request = async (args) => {<br>
&nbsp;&nbsp;if (args.method === 'eth_sendTransaction') {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// Analyze transaction<br>
&nbsp;&nbsp;&nbsp;&nbsp;const verdict = await getVerdict({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normalizedTrace: normalizeTransaction(args.params[0]),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useContext: true<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;if (!verdict.allow) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const proceed = confirm(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`⚠️ ${verdict.message}\n\nProceed anyway?`<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!proceed) return null;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
&nbsp;&nbsp;return originalRequest(args);<br>
};
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>5. DAPP INTEGRATION</h3>
            <p>Add AEGIS to your dapp's transaction flow:</p>
            <div class="code-block">
              <code>
import { getVerdict } from '@aegis-protocol/core';<br><br>
async function handleTransaction(tx) {<br>
&nbsp;&nbsp;// Normalize transaction<br>
&nbsp;&nbsp;const trace = normalizeInputToTrace({<br>
&nbsp;&nbsp;&nbsp;&nbsp;transaction: tx,<br>
&nbsp;&nbsp;&nbsp;&nbsp;execution: await simulateTransaction(tx),<br>
&nbsp;&nbsp;&nbsp;&nbsp;metadata: { chainId: 1 }<br>
&nbsp;&nbsp;});<br><br>
&nbsp;&nbsp;// Get verdict<br>
&nbsp;&nbsp;const verdict = await getVerdict({ normalizedTrace: trace });<br><br>
&nbsp;&nbsp;// Display risk banner<br>
&nbsp;&nbsp;if (verdict.score > 0) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;showRiskBanner(verdict);<br>
&nbsp;&nbsp;}<br><br>
&nbsp;&nbsp;// Proceed with transaction<br>
&nbsp;&nbsp;return await sendTransaction(tx);<br>
}
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>6. BACKEND SERVICE INTEGRATION</h3>
            <div class="code-block">
              <code>
// Node.js/Express example<br>
const express = require('express');<br>
const { getVerdict } = require('@aegis-protocol/core');<br><br>
const app = express();<br>
app.use(express.json());<br><br>
app.post('/api/check-transaction', async (req, res) => {<br>
&nbsp;&nbsp;const { transaction, execution } = req.body;<br>
&nbsp;&nbsp;const trace = normalizeInputToTrace({ transaction, execution });<br>
&nbsp;&nbsp;const verdict = await getVerdict({ normalizedTrace: trace });<br>
&nbsp;&nbsp;res.json(verdict);<br>
});
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>7. STATELESS MODE</h3>
            <p>For environments without persistent storage:</p>
            <div class="code-block">
              <code>
// Disable context-based analysis<br>
const verdict = await getVerdict({<br>
&nbsp;&nbsp;normalizedTrace: trace,<br>
&nbsp;&nbsp;useContext: false // Stateless mode<br>
});<br><br>
// Or via environment variable<br>
process.env.AEGIS_DISABLE_CONTEXT = '1';
              </code>
            </div>
          </div>

          <div class="integrate-section">
            <h3>8. CUSTOM RISK RULES</h3>
            <div class="code-block">
              <code>
import { registerRule } from '@aegis-protocol/core';<br><br>
registerRule({<br>
&nbsp;&nbsp;ruleId: 'custom_rule',<br>
&nbsp;&nbsp;check: (trace) => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// Your custom risk logic<br>
&nbsp;&nbsp;&nbsp;&nbsp;return {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggered: condition,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;severity: 'high',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explanation: 'Custom risk detected',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evidence: {}<br>
&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;weight: 100<br>
});
              </code>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Browser Extension Tab Content -->
    <div id="extension-content" class="tab-content">
      <section class="tab-section">
        <div class="section-header">
          <h2>AEGIS BROWSER EXTENSION</h2>
          <p>Real-time transaction risk analysis directly in your browser</p>
        </div>

        <div class="extension-container">
          <!-- Overview Section -->
          <div class="extension-section">
            <h3>🔌 OVERVIEW</h3>
            <p>
              The AEGIS Browser Extension provides <strong>pre-execution risk infrastructure</strong> for on-chain transactions. 
              It intercepts transaction requests from wallet providers (MetaMask, WalletConnect, etc.) and displays real-time 
              risk assessments before you sign.
            </p>
            <div class="extension-features">
              <div class="extension-feature-card">
                <div class="feature-icon">⚡</div>
                <h4>Real-Time Analysis</h4>
                <p>Analyzes transactions in milliseconds before execution</p>
              </div>
              <div class="extension-feature-card">
                <div class="feature-icon">🛡️</div>
                <h4>Non-Custodial</h4>
                <p>Read-only operation, cannot sign transactions or move funds</p>
              </div>
              <div class="extension-feature-card">
                <div class="feature-icon">🔍</div>
                <h4>Deterministic</h4>
                <p>Same transaction produces the same risk score every time</p>
              </div>
              <div class="extension-feature-card">
                <div class="feature-icon">✅</div>
                <h4>Verifiable</h4>
                <p>Cryptographically signed evidence bundles for verification</p>
              </div>
            </div>
          </div>

          <!-- Installation Section -->
          <div class="extension-section">
            <h3>📦 INSTALLATION</h3>
            <div class="install-steps">
              <div class="install-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>Build the Extension</h4>
                  <p>First, build the extension from source:</p>
                  <div class="code-block">
                    <code>
npm run build:extension<br>
# This compiles TypeScript files to JavaScript
                    </code>
                  </div>
                </div>
              </div>
              <div class="install-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>Start AEGIS Server</h4>
                  <p>The extension requires the local AEGIS server to be running:</p>
                  <div class="code-block">
                    <code>
npm run serve<br>
# Server runs on http://127.0.0.1:8787
                    </code>
                  </div>
                </div>
              </div>
              <div class="install-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>Load Extension in Chrome/Brave</h4>
                  <ul>
                    <li>Open <code>chrome://extensions/</code> (or <code>brave://extensions/</code>)</li>
                    <li>Enable "Developer mode" (toggle in top-right)</li>
                    <li>Click "Load unpacked"</li>
                    <li>Select the <code>extension</code> folder from the AEGIS Protocol directory</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- How It Works Section -->
          <div class="extension-section">
            <h3>⚙️ HOW IT WORKS</h3>
            <div class="workflow-diagram">
              <div class="workflow-step">
                <div class="workflow-icon">🌐</div>
                <h4>1. Transaction Interception</h4>
                <p>
                  The extension injects a script into web pages that wraps <code>window.ethereum.request</code>. 
                  When a dapp calls <code>eth_sendTransaction</code> or <code>eth_sendRawTransaction</code>, 
                  the extension intercepts the request.
                </p>
              </div>
              <div class="workflow-arrow">→</div>
              <div class="workflow-step">
                <div class="workflow-icon">📡</div>
                <h4>2. Analysis Request</h4>
                <p>
                  The content script sends the transaction data to the background service worker, which 
                  forwards it to the local AEGIS server at <code>http://127.0.0.1:8787/verdict</code>.
                </p>
              </div>
              <div class="workflow-arrow">→</div>
              <div class="workflow-step">
                <div class="workflow-icon">🔬</div>
                <h4>3. Risk Analysis</h4>
                <p>
                  AEGIS analyzes the transaction using deterministic risk rules, checking for upgradeable proxies, 
                  reentrancy risks, and context-based prior risk events.
                </p>
              </div>
              <div class="workflow-arrow">→</div>
              <div class="workflow-step">
                <div class="workflow-icon">📊</div>
                <h4>4. Verdict Display</h4>
                <p>
                  A verdict banner appears on the page showing the risk score, severity level, and top triggered rules. 
                  The original transaction request continues normally.
                </p>
              </div>
            </div>
          </div>

          <!-- Features Section -->
          <div class="extension-section">
            <h3>✨ FEATURES</h3>
            <div class="features-grid">
              <div class="feature-item">
                <h4>📋 Risk Score Display</h4>
                <p>Shows a numerical risk score (0-1000+) with color-coded severity levels (safe, elevated, high, critical)</p>
              </div>
              <div class="feature-item">
                <h4>📝 Top Rules</h4>
                <p>Displays the top 3 triggered risk rules with explanations</p>
              </div>
              <div class="feature-item">
                <h4>🎨 Visual Banner</h4>
                <p>Non-intrusive banner overlay in the top-right corner of the page</p>
              </div>
              <div class="feature-item">
                <h4>⏱️ Auto-Dismiss</h4>
                <p>Safe transactions automatically dismiss after 30 seconds</p>
              </div>
              <div class="feature-item">
                <h4>🔒 Privacy-First</h4>
                <p>All analysis happens locally - no data sent to external servers</p>
              </div>
              <div class="feature-item">
                <h4>🔄 Context-Aware</h4>
                <p>Tracks historical risk events for pattern detection across transactions</p>
              </div>
            </div>
          </div>

          <!-- Architecture Section -->
          <div class="extension-section">
            <h3>🏗️ ARCHITECTURE</h3>
            <p>The extension uses Chrome Manifest V3 and consists of:</p>
            <div class="architecture-grid">
              <div class="arch-component">
                <h4>injected.js</h4>
                <p>Runs in the page context, wraps <code>window.ethereum.request</code> to intercept transactions</p>
              </div>
              <div class="arch-component">
                <h4>contentScript.js</h4>
                <p>Injected into web pages, bridges communication between injected script and background worker</p>
              </div>
              <div class="arch-component">
                <h4>background.js</h4>
                <p>Service worker that communicates with the local AEGIS HTTP server</p>
              </div>
              <div class="arch-component">
                <h4>popup.html/js</h4>
                <p>Extension popup UI (currently shows stored analysis results)</p>
              </div>
            </div>
          </div>

          <!-- Testing Section -->
          <div class="extension-section">
            <h3>🧪 TESTING & REFINEMENT</h3>
            <p>
              The extension is currently in active development. To test it:
            </p>
            <ol class="test-steps">
              <li>
                <strong>Start the AEGIS server:</strong>
                <div class="code-block">
                  <code>npm run serve</code>
                </div>
              </li>
              <li>
                <strong>Load the extension</strong> in Chrome/Brave (see Installation steps above)
              </li>
              <li>
                <strong>Visit a dapp</strong> that uses MetaMask or another wallet provider
              </li>
              <li>
                <strong>Initiate a transaction</strong> - the extension will intercept it and display a verdict banner
              </li>
              <li>
                <strong>Check the console</strong> for detailed logs and analysis results
              </li>
            </ol>
            <div class="test-note">
              <h4>📌 Current Status</h4>
              <p>
                The extension currently creates a minimal normalized trace stub from transaction parameters. 
                For full analysis, you'll need to provide execution traces. The extension is designed to be 
                extended with more sophisticated transaction simulation in the future.
              </p>
            </div>
          </div>

          <!-- Code Example Section -->
          <div class="extension-section">
            <h3>💻 CODE EXAMPLE</h3>
            <p>How the extension intercepts transactions:</p>
            <div class="code-block">
              <code>
// injected.js - Wraps window.ethereum.request<br>
const originalRequest = ethereum.request.bind(ethereum);<br>
ethereum.request = async function (args) {<br>
&nbsp;&nbsp;if (args.method === 'eth_sendTransaction') {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// Build normalized trace stub<br>
&nbsp;&nbsp;&nbsp;&nbsp;const normalizedTrace = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transaction: { from, to, value, data, ... },<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;execution: { steps: [], gasUsed: "0" },<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metadata: { chainId, timestamp, ... }<br>
&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;// Send to content script<br>
&nbsp;&nbsp;&nbsp;&nbsp;window.postMessage({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source: 'AEGIS_INJECTED',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: 'AEGIS_TX_PROPOSED',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normalizedTrace<br>
&nbsp;&nbsp;&nbsp;&nbsp;}, '*');<br>
&nbsp;&nbsp;}<br>
&nbsp;&nbsp;return originalRequest(args);<br>
};
              </code>
            </div>
          </div>

          <!-- Test Simulation Section -->
          <div class="extension-section">
            <h3>🎮 LIVE TEST SIMULATION</h3>
            <p>
              Test the AEGIS extension in real-time! Connect a wallet and send a test transaction to see the 
              risk analysis banner appear with glitch art styling.
            </p>
            
            <div class="test-simulator">
              <div class="wallet-status-box" id="extension-wallet-status">
                <div class="status-indicator disconnected"></div>
                <span class="status-text">⚠️ WALLET NOT CONNECTED</span>
              </div>
              
              <div class="test-actions">
                <button class="glitch-button" id="extension-connect-btn" onclick="extensionConnectWallet()">
                  <span class="button-text">CONNECT WALLET</span>
                  <span class="button-glow"></span>
                </button>
                
                <button class="glitch-button" id="extension-send-btn" onclick="extensionSendTransaction()" disabled>
                  <span class="button-text">SEND 0.01 ETH</span>
                  <span class="button-glow"></span>
                </button>
                
                <button class="glitch-button secondary" id="extension-swap-btn" onclick="extensionSwapTokens()" disabled>
                  <span class="button-text">SWAP TOKENS (HIGH RISK)</span>
                  <span class="button-glow"></span>
                </button>
              </div>
              
              <div class="test-info">
                <p style="color: #00ff00; text-shadow: 0 0 5px #00ff00;">
                  <strong>💡 Instructions:</strong>
                </p>
                <ol style="margin-top: 10px;">
                  <li>Make sure AEGIS extension is loaded in Chrome/Brave</li>
                  <li>Click "CONNECT WALLET" (uses MetaMask if available)</li>
                  <li>Click "SEND 0.01 ETH" to trigger a transaction</li>
                  <li>Watch for the AEGIS verdict banner in the top-right corner!</li>
                </ol>
              </div>
            </div>
          </div>

          <!-- Future Improvements Section -->
          <div class="extension-section">
            <h3>🚀 FUTURE IMPROVEMENTS</h3>
            <ul class="improvements-list">
              <li>✅ Transaction execution trace simulation for more accurate analysis</li>
              <li>✅ Enhanced popup UI with detailed risk breakdown</li>
              <li>✅ User preferences for risk thresholds and blocking behavior</li>
              <li>✅ Historical transaction log and risk tracking</li>
              <li>✅ Integration with popular wallet providers</li>
              <li>✅ Multi-chain support (Ethereum, Polygon, Arbitrum, etc.)</li>
              <li>✅ Evidence bundle export and verification</li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <!-- Whitepaper Tab Content -->
    <div id="whitepaper-content" class="tab-content">
      <section class="tab-section">
        <div class="section-header">
          <h2>AEGIS PROTOCOL WHITEPAPER</h2>
          <p>Technical specification and protocol design</p>
        </div>

        <div class="whitepaper-container">
          <div class="whitepaper-section">
            <h3>1. EXECUTIVE SUMMARY</h3>
            <p>
              AEGIS Protocol is a pre-execution risk analysis system for EVM transactions that provides 
              deterministic, verifiable, and trustless security for Web3. By analyzing transactions before 
              they execute on-chain, AEGIS enables wallets, dapps, and backend services to warn users 
              about potentially risky operations, prevent scams, and maintain compliance records.
            </p>
            <p>
              The protocol is built on three core principles: <strong>Determinism</strong> (same input 
              always produces the same output), <strong>Verifiability</strong> (cryptographically signed 
              evidence bundles), and <strong>Trustlessness</strong> (no reliance on centralized services).
            </p>
          </div>

          <div class="whitepaper-section">
            <h3>2. ARCHITECTURE OVERVIEW</h3>
            <h4>2.1 Core Components</h4>
            <ul>
              <li><strong>Normalization Layer</strong>: Converts various transaction formats into a standardized NormalizedTrace format</li>
              <li><strong>Risk Analysis Engine</strong>: Executes risk rules against normalized traces</li>
              <li><strong>Evidence System</strong>: Generates cryptographically signed evidence bundles</li>
              <li><strong>Rule Engine</strong>: Modular, extensible risk detection rules</li>
              <li><strong>Persistent Storage</strong>: Stores evidence for context-based analysis</li>
              <li><strong>API Layer</strong>: HTTP server, TypeScript SDK, and browser extension</li>
            </ul>

            <h4>2.2 Data Flow</h4>
            <ol>
              <li>Transaction data (raw transaction, execution trace, metadata) is received</li>
              <li>Normalization layer converts to NormalizedTrace format</li>
              <li>Trace hash is computed using canonical JSON serialization</li>
              <li>Risk rules are executed against the normalized trace</li>
              <li>Risk score is calculated from triggered rules</li>
              <li>Evidence bundle is generated and cryptographically signed</li>
              <li>Verdict is returned to the client (allow/deny, score, severity, message)</li>
            </ol>
          </div>

          <div class="whitepaper-section">
            <h3>3. DETERMINISTIC ANALYSIS</h3>
            <p>
              AEGIS ensures determinism through canonical JSON serialization. All BigInt values are 
              converted to strings, and object keys are sorted before hashing. This guarantees that 
              the same transaction trace always produces the same trace hash and risk score.
            </p>
            <div class="code-block">
              <code>
// Canonical JSON ensures determinism<br>
function canonicalize(value) {<br>
&nbsp;&nbsp;return JSON.stringify(<br>
&nbsp;&nbsp;&nbsp;&nbsp;sortKeys(value),<br>
&nbsp;&nbsp;&nbsp;&nbsp;(_key, val) => typeof val === 'bigint' ? val.toString() : val<br>
&nbsp;&nbsp;);<br>
}<br><br>
// Trace hash is deterministic<br>
const traceHash = keccak256(canonicalize(normalizedTrace));
              </code>
            </div>
          </div>

          <div class="whitepaper-section">
            <h3>4. EVIDENCE SYSTEM</h3>
            <p>
              Every risk analysis generates an evidence bundle containing the complete analysis result, 
              including the normalized trace, risk score, triggered rules, and cryptographic signature. 
              Evidence bundles can be verified independently without trusting the analyzer.
            </p>
            <h4>4.1 Evidence Bundle Structure</h4>
            <div class="code-block">
              <code>
{<br>
&nbsp;&nbsp;"traceHash": "0x...",<br>
&nbsp;&nbsp;"normalizedTrace": { ... },<br>
&nbsp;&nbsp;"riskScore": { "total": 750, "breakdown": [...] },<br>
&nbsp;&nbsp;"triggeredRules": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ruleId": "upgradeable_proxy",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"severity": "high",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"explanation": "...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"evidence": {}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;],<br>
&nbsp;&nbsp;"signature": "0x...",<br>
&nbsp;&nbsp;"timestamp": 1234567890<br>
}
              </code>
            </div>
            <h4>4.2 Signature Verification</h4>
            <p>
              Evidence bundles are signed using ECDSA with the analyzer's private key. The signature 
              covers the canonical JSON representation of the evidence bundle (excluding the signature 
              field itself). Anyone can verify the signature using the analyzer's public key.
            </p>
          </div>

          <div class="whitepaper-section">
            <h3>5. RISK RULES</h3>
            <p>
              AEGIS implements a modular rule system where each rule is independently executable and 
              verifiable. Rules can be composed, weighted, and extended with custom logic.
            </p>
            <h4>5.1 Built-in Rules</h4>
            <ul>
              <li><strong>upgradeable_proxy</strong>: Detects interactions with upgradeable proxy contracts</li>
              <li><strong>reentrancy_risk</strong>: Identifies potential reentrancy vulnerabilities</li>
              <li><strong>context_prior_risk</strong>: Tracks historical risk events for pattern detection</li>
            </ul>
            <h4>5.2 Rule Structure</h4>
            <div class="code-block">
              <code>
interface RiskRule {<br>
&nbsp;&nbsp;ruleId: string;<br>
&nbsp;&nbsp;check: (trace: NormalizedTrace) => RuleResult;<br>
&nbsp;&nbsp;weight: number;<br>
}<br><br>
interface RuleResult {<br>
&nbsp;&nbsp;ruleId: string;<br>
&nbsp;&nbsp;triggered: boolean;<br>
&nbsp;&nbsp;severity: 'info' | 'low' | 'elevated' | 'high' | 'critical';<br>
&nbsp;&nbsp;explanation: string;<br>
&nbsp;&nbsp;evidence: Record&lt;string, any&gt;;<br>
}
              </code>
            </div>
          </div>

          <div class="whitepaper-section">
            <h3>6. RISK SCORING</h3>
            <p>
              Risk scores are calculated by summing the weights of all triggered rules, adjusted by 
              severity multipliers. The final score determines the verdict (allow/deny) and severity level.
            </p>
            <div class="code-block">
              <code>
// Severity multipliers<br>
const multipliers = {<br>
&nbsp;&nbsp;info: 0.1,<br>
&nbsp;&nbsp;low: 0.5,<br>
&nbsp;&nbsp;elevated: 1.0,<br>
&nbsp;&nbsp;high: 2.0,<br>
&nbsp;&nbsp;critical: 5.0<br>
};<br><br>
// Score calculation<br>
const score = triggeredRules.reduce((sum, rule) => {<br>
&nbsp;&nbsp;return sum + (rule.weight * multipliers[rule.severity]);<br>
}, 0);
              </code>
            </div>
          </div>

          <div class="whitepaper-section">
            <h3>7. API SPECIFICATION</h3>
            <h4>7.1 Verdict Endpoint</h4>
            <p><strong>POST /verdict</strong></p>
            <p>Request body:</p>
            <div class="code-block">
              <code>
{<br>
&nbsp;&nbsp;"normalizedTrace": { ... },<br>
&nbsp;&nbsp;"useContext": true<br>
}
              </code>
            </div>
            <p>Response:</p>
            <div class="code-block">
              <code>
{<br>
&nbsp;&nbsp;"traceHash": "0x...",<br>
&nbsp;&nbsp;"score": 750,<br>
&nbsp;&nbsp;"severity": "high",<br>
&nbsp;&nbsp;"allow": false,<br>
&nbsp;&nbsp;"message": "High risk transaction detected",<br>
&nbsp;&nbsp;"topRules": [ ... ]<br>
}
              </code>
            </div>
          </div>

          <div class="whitepaper-section">
            <h3>8. SECURITY CONSIDERATIONS</h3>
            <ul>
              <li><strong>Private Key Management</strong>: Analyzers must securely store private keys for signing evidence bundles</li>
              <li><strong>Input Validation</strong>: All inputs are validated and normalized before processing</li>
              <li><strong>Rate Limiting</strong>: API endpoints should implement rate limiting to prevent abuse</li>
              <li><strong>Context Isolation</strong>: Stateless mode available for environments without persistent storage</li>
              <li><strong>Verification</strong>: Evidence bundles can be verified independently without trusting the analyzer</li>
            </ul>
          </div>

          <div class="whitepaper-section">
            <h3>9. FUTURE DEVELOPMENTS</h3>
            <ul>
              <li>Multi-chain support and cross-chain risk analysis</li>
              <li>Decentralized analyzer network with staking</li>
              <li>Machine learning risk pattern detection</li>
              <li>Zero-knowledge proof integration for privacy</li>
              <li>Advanced trust graph and network analysis</li>
              <li>Real-time threat intelligence feeds</li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>© 2026 AEGIS PROTOCOL. BUILT FOR TRUSTLESS WEB3 SECURITY.</p>
    </footer>
  </div>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

    // 3D Scanner Setup
    const canvas = document.getElementById('scanner-canvas');
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x000000);
    scene.fog = new THREE.Fog(0x000000, 10, 50);

    const camera = new THREE.PerspectiveCamera(
      45,
      canvas.clientWidth / canvas.clientHeight,
      0.1,
      1000
    );
    camera.position.set(0, 3, 10);
    camera.lookAt(0, 1, 0);

    const renderer = new THREE.WebGLRenderer({ 
      canvas: canvas,
      antialias: true,
      alpha: true
    });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.shadowMap.enabled = true;
    renderer.shadowMap.type = THREE.PCFSoftShadowMap;

    // Enhanced Lighting for Scanner - white lights for color accuracy
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambientLight);

    // Main directional light - white for accurate colors
    const directionalLight = new THREE.DirectionalLight(0xffffff, 2);
    directionalLight.position.set(5, 10, 5);
    directionalLight.castShadow = true;
    directionalLight.shadow.mapSize.width = 2048;
    directionalLight.shadow.mapSize.height = 2048;
    scene.add(directionalLight);

    // Fill light from opposite side - white
    const directionalLight2 = new THREE.DirectionalLight(0xffffff, 1);
    directionalLight2.position.set(-5, 8, -5);
    scene.add(directionalLight2);

    // Spotlight focused on scanner - white
    const spotLight = new THREE.SpotLight(0xffffff, 3, 25, Math.PI / 5, 0.4, 1);
    spotLight.position.set(0, 10, 6);
    spotLight.target.position.set(0, 1, 0);
    spotLight.castShadow = true;
    scene.add(spotLight);
    scene.add(spotLight.target);

    // Accent lights - cyan for atmosphere
    const pointLight1 = new THREE.PointLight(0x00ffff, 0.8, 100);
    pointLight1.position.set(-4, 4, 4);
    scene.add(pointLight1);

    const pointLight2 = new THREE.PointLight(0xff00ff, 0.6, 100);
    pointLight2.position.set(4, 4, -4);
    scene.add(pointLight2);

    // Top light for overall illumination - white
    const pointLight3 = new THREE.PointLight(0xffffff, 1.5, 100);
    pointLight3.position.set(0, 8, 0);
    scene.add(pointLight3);

    // Grid floor removed - looks bad

    // Load GLB Model
    const loader = new GLTFLoader();
    let scannerModel = null;

    // Model path - using relative path from HTML file
    const modelPath = 'scanner-model.glb';

    function createPlaceholder() {
      // Create a more detailed placeholder scanner
      const group = new THREE.Group();
      
      // Main body
      const bodyGeometry = new THREE.BoxGeometry(3, 4, 2);
      const bodyMaterial = new THREE.MeshStandardMaterial({
        color: 0x00ffff,
        emissive: 0x00ffff,
        emissiveIntensity: 0.3,
        metalness: 0.8,
        roughness: 0.2
      });
      const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
      body.position.set(0, 2, 0);
      body.castShadow = true;
      group.add(body);

      // Scanner arch/top
      const archGeometry = new THREE.TorusGeometry(1.5, 0.3, 8, 16, Math.PI);
      const archMaterial = new THREE.MeshStandardMaterial({
        color: 0x00ffff,
        emissive: 0x00ffff,
        emissiveIntensity: 0.5
      });
      const arch = new THREE.Mesh(archGeometry, archMaterial);
      arch.position.set(0, 4.5, 0);
      arch.rotation.x = Math.PI / 2;
      group.add(arch);

      // Side panels
      const panelGeometry = new THREE.BoxGeometry(0.2, 3, 2);
      const panelMaterial = new THREE.MeshStandardMaterial({
        color: 0x0088ff,
        emissive: 0x0088ff,
        emissiveIntensity: 0.4
      });
      const leftPanel = new THREE.Mesh(panelGeometry, panelMaterial);
      leftPanel.position.set(-1.6, 2, 0);
      group.add(leftPanel);
      
      const rightPanel = new THREE.Mesh(panelGeometry, panelMaterial);
      rightPanel.position.set(1.6, 2, 0);
      group.add(rightPanel);

      // Scanning lights
      for (let i = 0; i < 5; i++) {
        const lightGeometry = new THREE.SphereGeometry(0.1, 8, 8);
        const lightMaterial = new THREE.MeshStandardMaterial({
          color: 0x00ff00,
          emissive: 0x00ff00,
          emissiveIntensity: 1
        });
        const light = new THREE.Mesh(lightGeometry, lightMaterial);
        light.position.set(-1 + i * 0.5, 3.5, 1.1);
        group.add(light);
      }

      group.position.set(0, 0, 0);
      return group;
    }

    // Load the GLB model
    loader.load(
      modelPath,
      (gltf) => {
        scannerModel = gltf.scene;
        // Adjust scale and position - center and size appropriately
        const box = new THREE.Box3().setFromObject(scannerModel);
        const center = box.getCenter(new THREE.Vector3());
        const size = box.getSize(new THREE.Vector3());
        const maxDim = Math.max(size.x, size.y, size.z);
        const scale = 5 / maxDim; // Scale to fill more space
        
        scannerModel.scale.setScalar(scale);
        scannerModel.position.set(-center.x * scale, -center.y * scale + 1, -center.z * scale);
        
        // Preserve original textures and colors, just add subtle glow
        scannerModel.traverse((child) => {
          if (child.isMesh) {
            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material) {
              // If material is an array, handle each material
              const materials = Array.isArray(child.material) ? child.material : [child.material];
              materials.forEach((material) => {
                if (material) {
                  // Preserve original textures - don't override colors
                  // Only enhance emissive if it already exists, or add subtle glow
                  if (material.emissiveMap) {
                    // Material already has emissive texture - enhance it slightly
                    material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.2;
                  } else if (material.emissive) {
                    // Has emissive color - enhance it
                    material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.15;
                  } else {
                    // No emissive - add very subtle cyan glow
                    material.emissive = new THREE.Color(0x00ffff);
                    material.emissiveIntensity = 0.1;
                  }
                  // Ensure textures are visible
                  if (material.map) material.map.needsUpdate = true;
                  if (material.normalMap) material.normalMap.needsUpdate = true;
                  if (material.roughnessMap) material.roughnessMap.needsUpdate = true;
                  if (material.metalnessMap) material.metalnessMap.needsUpdate = true;
                }
              });
            }
          }
        });
        
        scene.add(scannerModel);
        console.log('GLB model loaded successfully!');
      },
      (progress) => {
        if (progress.total > 0) {
          const percent = ((progress.loaded / progress.total) * 100).toFixed(1);
          console.log('Loading progress:', percent + '%');
        }
      },
      (error) => {
        console.error('Error loading GLB model:', error);
        // Fallback: create placeholder
        console.log('Creating placeholder scanner model');
        scannerModel = createPlaceholder();
        scene.add(scannerModel);
      }
    );

    // Orbit Controls
    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    controls.minDistance = 5;
    controls.maxDistance = 15;
    controls.maxPolarAngle = Math.PI / 2.2;

    // Animation
    let time = 0;
    function animate() {
      requestAnimationFrame(animate);
      time += 0.01;

      // Rotate model slowly
      if (scannerModel) {
        scannerModel.rotation.y += 0.005;
      }

      // Animate lights - subtle pulsing effect
      pointLight1.intensity = 0.8 + Math.sin(time * 2) * 0.2;
      pointLight2.intensity = 0.6 + Math.cos(time * 2) * 0.15;
      pointLight3.intensity = 1.5 + Math.sin(time * 1.5) * 0.2;
      spotLight.intensity = 3 + Math.sin(time * 2) * 0.4;
      
      // Subtle spotlight movement
      spotLight.position.x = Math.sin(time * 0.3) * 1;
      spotLight.position.z = 6 + Math.cos(time * 0.3) * 0.5;

      controls.update();
      renderer.render(scene, camera);
    }

    // Handle resize
    function onWindowResize() {
      camera.aspect = canvas.clientWidth / canvas.clientHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(canvas.clientWidth, canvas.clientHeight);
    }

    window.addEventListener('resize', onWindowResize);
    animate();
  </script>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

    // Technical Section Drone Setup
    const techDroneCanvas = document.getElementById('tech-drone-canvas');
    const techDroneScene = new THREE.Scene();
    techDroneScene.background = new THREE.Color(0x000000);
    techDroneScene.fog = new THREE.Fog(0x000000, 10, 50);

    const techDroneCamera = new THREE.PerspectiveCamera(
      50,
      techDroneCanvas.clientWidth / techDroneCanvas.clientHeight,
      0.1,
      1000
    );
    techDroneCamera.position.set(0, 2, 8);
    techDroneCamera.lookAt(0, 2, 0);

    const techDroneRenderer = new THREE.WebGLRenderer({ 
      canvas: techDroneCanvas,
      antialias: true,
      alpha: true
    });
    techDroneRenderer.setSize(techDroneCanvas.clientWidth, techDroneCanvas.clientHeight);
    techDroneRenderer.setPixelRatio(window.devicePixelRatio);
    techDroneRenderer.shadowMap.enabled = true;
    techDroneRenderer.shadowMap.type = THREE.PCFSoftShadowMap;

    // Tech Drone Lighting - bright white lights for better visibility
    const techDroneAmbientLight = new THREE.AmbientLight(0xffffff, 0.8);
    techDroneScene.add(techDroneAmbientLight);

    const techDroneDirectionalLight = new THREE.DirectionalLight(0xffffff, 3);
    techDroneDirectionalLight.position.set(5, 10, 5);
    techDroneDirectionalLight.castShadow = true;
    techDroneDirectionalLight.shadow.mapSize.width = 2048;
    techDroneDirectionalLight.shadow.mapSize.height = 2048;
    techDroneScene.add(techDroneDirectionalLight);

    const techDroneDirectionalLight2 = new THREE.DirectionalLight(0xffffff, 2);
    techDroneDirectionalLight2.position.set(-5, 8, -5);
    techDroneScene.add(techDroneDirectionalLight2);

    const techDronePointLight1 = new THREE.PointLight(0xffffff, 2.5, 100);
    techDronePointLight1.position.set(-4, 4, 4);
    techDroneScene.add(techDronePointLight1);

    const techDronePointLight2 = new THREE.PointLight(0xffffff, 2.5, 100);
    techDronePointLight2.position.set(4, 4, -4);
    techDroneScene.add(techDronePointLight2);

    // Top light for overall illumination
    const techDronePointLight3 = new THREE.PointLight(0xffffff, 2, 100);
    techDronePointLight3.position.set(0, 10, 0);
    techDroneScene.add(techDronePointLight3);

    // Accent lights for atmosphere
    const techDronePointLight4 = new THREE.PointLight(0x00ffff, 1, 100);
    techDronePointLight4.position.set(5, 5, -5);
    techDroneScene.add(techDronePointLight4);

    // Grid floor removed - looks bad

    // Load Tech Drone Model
    const techDroneLoader = new GLTFLoader();
    let techDroneModel = null;
    const techDroneModelPath = 'scifi_drone.glb';
    let techDroneBasePosition = new THREE.Vector3(0, 2, 0); // Store the centered base position

    function createDronePlaceholder() {
      const group = new THREE.Group();
      
      // Main body
      const bodyGeometry = new THREE.OctahedronGeometry(0.8, 0);
      const bodyMaterial = new THREE.MeshStandardMaterial({
        color: 0x00ffff,
        emissive: 0x00ffff,
        emissiveIntensity: 0.5,
        metalness: 0.9,
        roughness: 0.1
      });
      const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
      body.position.set(0, 2, 0);
      body.castShadow = true;
      group.add(body);

      // Propellers (4)
      for (let i = 0; i < 4; i++) {
        const angle = (i / 4) * Math.PI * 2;
        const radius = 1.2;
        const x = Math.cos(angle) * radius;
        const z = Math.sin(angle) * radius;
        
        // Propeller arm
        const armGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.8, 8);
        const armMaterial = new THREE.MeshStandardMaterial({
          color: 0x00ffff,
          emissive: 0x00ffff,
          emissiveIntensity: 0.3
        });
        const arm = new THREE.Mesh(armGeometry, armMaterial);
        arm.position.set(x, 2, z);
        arm.rotation.z = Math.atan2(z, x);
        group.add(arm);

        // Propeller blade
        const bladeGeometry = new THREE.BoxGeometry(0.6, 0.05, 0.15);
        const bladeMaterial = new THREE.MeshStandardMaterial({
          color: 0x00ffff,
          emissive: 0x00ffff,
          emissiveIntensity: 0.4
        });
        const blade = new THREE.Mesh(bladeGeometry, bladeMaterial);
        blade.position.set(x, 2.4, z);
        blade.rotation.z = Math.atan2(z, x);
        group.add(blade);
      }

      // Central light
      const lightGeometry = new THREE.SphereGeometry(0.15, 8, 8);
      const lightMaterial = new THREE.MeshStandardMaterial({
        color: 0x00ff00,
        emissive: 0x00ff00,
        emissiveIntensity: 1
      });
      const light = new THREE.Mesh(lightGeometry, lightMaterial);
      light.position.set(0, 2, 0);
      group.add(light);

      return group;
    }

    // Try loading tech drone model
    techDroneLoader.load(
      techDroneModelPath,
      (gltf) => {
        techDroneModel = gltf.scene;
        // Auto-scale and center drone model
        const box = new THREE.Box3().setFromObject(techDroneModel);
        const center = box.getCenter(new THREE.Vector3());
        const size = box.getSize(new THREE.Vector3());
        const maxDim = Math.max(size.x, size.y, size.z);
        const scale = 6 / maxDim; // Scale for smaller container
        
        techDroneModel.scale.setScalar(scale);
        // Center the model perfectly at origin
        techDroneModel.position.set(-center.x * scale, -center.y * scale + 2, -center.z * scale);
        
        // Ensure it's perfectly centered in the view
        const finalBox = new THREE.Box3().setFromObject(techDroneModel);
        const finalCenter = finalBox.getCenter(new THREE.Vector3());
        // Adjust position to center at origin
        techDroneModel.position.x = -finalCenter.x;
        techDroneModel.position.z = -finalCenter.z;
        techDroneModel.position.y = 2 - finalCenter.y; // Center vertically at y=2
        
        // Update base position to match the centered model
        techDroneBasePosition.set(0, 2, 0);
        
        techDroneModel.traverse((child) => {
          if (child.isMesh) {
            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material) {
              const materials = Array.isArray(child.material) ? child.material : [child.material];
              materials.forEach((material) => {
                if (material) {
                  // Preserve original textures and colors
                  if (material.emissiveMap) {
                    material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.2;
                  } else if (material.emissive) {
                    material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.15;
                  } else {
                    material.emissive = new THREE.Color(0x00ffff);
                    material.emissiveIntensity = 0.1;
                  }
                  // Ensure textures are visible
                  if (material.map) material.map.needsUpdate = true;
                  if (material.normalMap) material.normalMap.needsUpdate = true;
                  if (material.roughnessMap) material.roughnessMap.needsUpdate = true;
                  if (material.metalnessMap) material.metalnessMap.needsUpdate = true;
                }
              });
            }
          }
        });
        
        techDroneScene.add(techDroneModel);
        console.log('Tech drone model loaded successfully!');
      },
      (progress) => {
        if (progress.total > 0) {
          console.log('Tech drone loading:', ((progress.loaded / progress.total) * 100).toFixed(1) + '%');
        }
      },
      (error) => {
        console.log('Tech drone model not found, using placeholder');
        techDroneModel = createDronePlaceholder();
        techDroneScene.add(techDroneModel);
      }
    );

    // Tech Drone Orbit Controls - disabled for fixed view
    const techDroneControls = new OrbitControls(techDroneCamera, techDroneRenderer.domElement);
    techDroneControls.enabled = false; // Disable manual control to keep fixed view
    techDroneControls.enableDamping = true;
    techDroneControls.dampingFactor = 0.05;
    techDroneControls.minDistance = 6;
    techDroneControls.maxDistance = 12;
    techDroneControls.maxPolarAngle = Math.PI / 2.2;
    techDroneControls.target.set(0, 2, 0); // Keep target centered

    // Tech Drone Animation
    let techDroneTime = 0;

    function animateTechDrone() {
      requestAnimationFrame(animateTechDrone);
      techDroneTime += 0.01;

      if (techDroneModel) {
        // Hovering animation - subtle vertical movement around base
        techDroneModel.position.y = techDroneBasePosition.y + Math.sin(techDroneTime * 2) * 0.15;
        
        // Very small circular patrol - keeps drone centered and visible
        const radius = 0.3; // Very small radius to keep centered
        techDroneModel.position.x = techDroneBasePosition.x + Math.cos(techDroneTime * 0.5) * radius;
        techDroneModel.position.z = techDroneBasePosition.z + Math.sin(techDroneTime * 0.5) * radius;
        
        // Slow rotation
        techDroneModel.rotation.y += 0.003;
        
        // Rotate propellers if they exist
        techDroneModel.traverse((child) => {
          if (child.name && child.name.toLowerCase().includes('propeller')) {
            child.rotation.z += 0.3;
          }
        });
      }
      
      // Keep camera focused on the center (base position)
      techDroneCamera.lookAt(techDroneBasePosition);

      // Animate lights
      techDronePointLight1.intensity = 2.5 + Math.sin(techDroneTime * 2) * 0.3;
      techDronePointLight2.intensity = 2.5 + Math.cos(techDroneTime * 2) * 0.3;
      techDronePointLight3.intensity = 2 + Math.sin(techDroneTime * 1.5) * 0.25;
      techDronePointLight4.intensity = 1 + Math.cos(techDroneTime * 2) * 0.2;

      techDroneControls.update();
      techDroneRenderer.render(techDroneScene, techDroneCamera);
    }

    // Handle resize
    function onTechDroneWindowResize() {
      techDroneCamera.aspect = techDroneCanvas.clientWidth / techDroneCanvas.clientHeight;
      techDroneCamera.updateProjectionMatrix();
      techDroneRenderer.setSize(techDroneCanvas.clientWidth, techDroneCanvas.clientHeight);
    }

    window.addEventListener('resize', onTechDroneWindowResize);
    animateTechDrone();
  </script>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

    // Mantra Model Setup
    const mantraCanvas = document.getElementById('mantra-canvas');
    const mantraScene = new THREE.Scene();
    mantraScene.background = new THREE.Color(0x000000);
    mantraScene.fog = new THREE.Fog(0x000000, 10, 50);

    const mantraCamera = new THREE.PerspectiveCamera(
      45,
      mantraCanvas.clientWidth / mantraCanvas.clientHeight,
      0.1,
      1000
    );
    mantraCamera.position.set(0, 2, 8);
    mantraCamera.lookAt(0, 0, 0);

    const mantraRenderer = new THREE.WebGLRenderer({ 
      canvas: mantraCanvas,
      antialias: true,
      alpha: true
    });
    mantraRenderer.setSize(mantraCanvas.clientWidth, mantraCanvas.clientHeight);
    mantraRenderer.setPixelRatio(window.devicePixelRatio);
    mantraRenderer.shadowMap.enabled = true;
    mantraRenderer.shadowMap.type = THREE.PCFSoftShadowMap;

    // Mantra Lighting - white lights for color accuracy
    const mantraAmbientLight = new THREE.AmbientLight(0xffffff, 0.6);
    mantraScene.add(mantraAmbientLight);

    const mantraDirectionalLight = new THREE.DirectionalLight(0xffffff, 2);
    mantraDirectionalLight.position.set(5, 10, 5);
    mantraDirectionalLight.castShadow = true;
    mantraScene.add(mantraDirectionalLight);

    const mantraDirectionalLight2 = new THREE.DirectionalLight(0xffffff, 1);
    mantraDirectionalLight2.position.set(-5, 8, -5);
    mantraScene.add(mantraDirectionalLight2);

    const mantraSpotLight = new THREE.SpotLight(0xffffff, 3, 25, Math.PI / 5, 0.4, 1);
    mantraSpotLight.position.set(0, 10, 6);
    mantraSpotLight.target.position.set(0, 1, 0);
    mantraSpotLight.castShadow = true;
    mantraScene.add(mantraSpotLight);
    mantraScene.add(mantraSpotLight.target);

    // Accent lights for atmosphere
    const mantraPointLight1 = new THREE.PointLight(0x00ffff, 0.8, 100);
    mantraPointLight1.position.set(-4, 4, 4);
    mantraScene.add(mantraPointLight1);

    const mantraPointLight2 = new THREE.PointLight(0xff00ff, 0.6, 100);
    mantraPointLight2.position.set(4, 4, -4);
    mantraScene.add(mantraPointLight2);

    const mantraPointLight3 = new THREE.PointLight(0xffffff, 1.5, 100);
    mantraPointLight3.position.set(0, 8, 0);
    mantraScene.add(mantraPointLight3);

    // Grid floor removed - looks bad

    // Load Mantra Model
    const mantraLoader = new GLTFLoader();
    let mantraModel = null;
    const mantraModelPath = 'aegis_mantra_model.glb';

    mantraLoader.load(
      mantraModelPath,
      (gltf) => {
        mantraModel = gltf.scene;
        // Auto-scale to fill the space
        const box = new THREE.Box3().setFromObject(mantraModel);
        const center = box.getCenter(new THREE.Vector3());
        const size = box.getSize(new THREE.Vector3());
        const maxDim = Math.max(size.x, size.y, size.z);
        const scale = 6 / maxDim; // Large scale to fill the container
        
        mantraModel.scale.setScalar(scale);
        mantraModel.position.set(-center.x * scale, -center.y * scale + 1, -center.z * scale);
        
        mantraModel.traverse((child) => {
          if (child.isMesh) {
            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material) {
              const materials = Array.isArray(child.material) ? child.material : [child.material];
              materials.forEach((material) => {
                if (material) {
                  // Preserve original textures and colors
                  if (material.emissiveMap) {
                    material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.2;
                  } else if (material.emissive) {
                    material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.15;
                  } else {
                    material.emissive = new THREE.Color(0x00ffff);
                    material.emissiveIntensity = 0.1;
                  }
                  // Ensure textures are visible
                  if (material.map) material.map.needsUpdate = true;
                  if (material.normalMap) material.normalMap.needsUpdate = true;
                  if (material.roughnessMap) material.roughnessMap.needsUpdate = true;
                  if (material.metalnessMap) material.metalnessMap.needsUpdate = true;
                }
              });
            }
          }
        });
        
        mantraScene.add(mantraModel);
        console.log('Mantra model loaded successfully!');
      },
      (progress) => {
        if (progress.total > 0) {
          console.log('Mantra loading:', ((progress.loaded / progress.total) * 100).toFixed(1) + '%');
        }
      },
      (error) => {
        console.log('Mantra model not found, using placeholder');
        // Create a simple placeholder
        const geometry = new THREE.BoxGeometry(3, 4, 2);
        const material = new THREE.MeshStandardMaterial({
          color: 0x00ffff,
          emissive: 0x00ffff,
          emissiveIntensity: 0.5
        });
        mantraModel = new THREE.Mesh(geometry, material);
        mantraModel.position.set(0, 2, 0);
        mantraScene.add(mantraModel);
      }
    );

    // Mantra Orbit Controls
    const mantraControls = new OrbitControls(mantraCamera, mantraRenderer.domElement);
    mantraControls.enableDamping = true;
    mantraControls.dampingFactor = 0.05;
    mantraControls.minDistance = 5;
    mantraControls.maxDistance = 20;
    mantraControls.maxPolarAngle = Math.PI / 2.2;

    // Mantra Animation
    let mantraTime = 0;
    function animateMantra() {
      requestAnimationFrame(animateMantra);
      mantraTime += 0.01;

      if (mantraModel) {
        mantraModel.rotation.y += 0.003;
      }

      // Animate lights
      mantraPointLight1.intensity = 0.8 + Math.sin(mantraTime * 2) * 0.2;
      mantraPointLight2.intensity = 0.6 + Math.cos(mantraTime * 2) * 0.15;
      mantraPointLight3.intensity = 1.5 + Math.sin(mantraTime * 1.5) * 0.2;
      mantraSpotLight.intensity = 3 + Math.sin(mantraTime * 2) * 0.4;
      
      mantraSpotLight.position.x = Math.sin(mantraTime * 0.3) * 1;
      mantraSpotLight.position.z = 6 + Math.cos(mantraTime * 0.3) * 0.5;

      mantraControls.update();
      mantraRenderer.render(mantraScene, mantraCamera);
    }

    function onMantraWindowResize() {
      mantraCamera.aspect = mantraCanvas.clientWidth / mantraCanvas.clientHeight;
      mantraCamera.updateProjectionMatrix();
      mantraRenderer.setSize(mantraCanvas.clientWidth, mantraCanvas.clientHeight);
    }

    window.addEventListener('resize', onMantraWindowResize);
    animateMantra();
  </script>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

  </script>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

    // Gate Military Drone (Left) Setup
    const gateMilitaryCanvas = document.getElementById('gate-military-canvas');
    if (gateMilitaryCanvas) {
      // Wait for tab to be visible before initializing
      const initGateMilitary = () => {
        if (gateMilitaryCanvas.offsetWidth === 0 || gateMilitaryCanvas.offsetHeight === 0) {
          // Canvas not visible yet, try again
          setTimeout(initGateMilitary, 100);
          return;
        }
        
        const gateMilitaryScene = new THREE.Scene();
        gateMilitaryScene.background = null; // Transparent to show blurred content behind
        gateMilitaryScene.fog = null; // Remove fog for cleaner look

        const gateMilitaryCamera = new THREE.PerspectiveCamera(
          45,
          gateMilitaryCanvas.clientWidth / gateMilitaryCanvas.clientHeight,
          0.1,
          1000
        );
        gateMilitaryCamera.position.set(0, 2, 8);
        gateMilitaryCamera.lookAt(0, 0, 0);

        const gateMilitaryRenderer = new THREE.WebGLRenderer({ 
          canvas: gateMilitaryCanvas,
          antialias: true,
          alpha: true
        });
        gateMilitaryRenderer.setSize(gateMilitaryCanvas.clientWidth, gateMilitaryCanvas.clientHeight);
        gateMilitaryRenderer.setPixelRatio(window.devicePixelRatio);
        gateMilitaryRenderer.shadowMap.enabled = true;
        gateMilitaryRenderer.shadowMap.type = THREE.PCFSoftShadowMap;

        // Lighting
        const gateMilitaryAmbient = new THREE.AmbientLight(0xffffff, 0.6);
        gateMilitaryScene.add(gateMilitaryAmbient);

        const gateMilitaryDir1 = new THREE.DirectionalLight(0xffffff, 2);
        gateMilitaryDir1.position.set(5, 10, 5);
        gateMilitaryScene.add(gateMilitaryDir1);

        const gateMilitaryDir2 = new THREE.DirectionalLight(0xffffff, 1);
        gateMilitaryDir2.position.set(-5, 8, -5);
        gateMilitaryScene.add(gateMilitaryDir2);

        const gateMilitaryPoint1 = new THREE.PointLight(0x00ffff, 0.8, 100);
        gateMilitaryPoint1.position.set(-4, 4, 4);
        gateMilitaryScene.add(gateMilitaryPoint1);

        const gateMilitaryPoint2 = new THREE.PointLight(0xff00ff, 0.6, 100);
        gateMilitaryPoint2.position.set(4, 4, -4);
        gateMilitaryScene.add(gateMilitaryPoint2);

        const gateMilitaryPoint3 = new THREE.PointLight(0xffffff, 1.5, 100);
        gateMilitaryPoint3.position.set(0, 8, 0);
        gateMilitaryScene.add(gateMilitaryPoint3);

        // Load Military Drone Model
        const gateMilitaryLoader = new GLTFLoader();
        let gateMilitaryModel = null;
        const gateMilitaryModelPath = 'german_drone-military_wwi__murder_drones.glb';

        gateMilitaryLoader.load(
          gateMilitaryModelPath,
          (gltf) => {
            gateMilitaryModel = gltf.scene;
            const box = new THREE.Box3().setFromObject(gateMilitaryModel);
            const center = box.getCenter(new THREE.Vector3());
            const size = box.getSize(new THREE.Vector3());
            const maxDim = Math.max(size.x, size.y, size.z);
            const scale = 5 / maxDim;
            
            gateMilitaryModel.scale.setScalar(scale);
            gateMilitaryModel.position.set(-center.x * scale, -center.y * scale - 0.5, -center.z * scale); // Moved down
            // Rotate 90 degrees west (around vertical axis)
            gateMilitaryModel.rotation.y = -Math.PI / 2; // 90 degrees west
            
            gateMilitaryModel.traverse((child) => {
              if (child.isMesh) {
                child.castShadow = true;
                child.receiveShadow = true;
                if (child.material) {
                  const materials = Array.isArray(child.material) ? child.material : [child.material];
                  materials.forEach((material) => {
                    if (material) {
                      if (material.emissiveMap) {
                        material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.2;
                      } else if (material.emissive) {
                        material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.15;
                      } else {
                        material.emissive = new THREE.Color(0x00ffff);
                        material.emissiveIntensity = 0.1;
                      }
                      if (material.map) material.map.needsUpdate = true;
                      if (material.normalMap) material.normalMap.needsUpdate = true;
                    }
                  });
                }
              }
            });
            
            gateMilitaryScene.add(gateMilitaryModel);
          },
          undefined,
          (error) => {
            console.log('Military drone model not found, using placeholder');
            const geometry = new THREE.BoxGeometry(2, 3, 1.5);
            const material = new THREE.MeshStandardMaterial({
              color: 0x888888,
              emissive: 0x00ffff,
              emissiveIntensity: 0.3
            });
            gateMilitaryModel = new THREE.Mesh(geometry, material);
            gateMilitaryModel.position.set(0, 0.5, 0); // Moved down
            gateMilitaryModel.rotation.y = -Math.PI / 2; // 90 degrees west
            gateMilitaryScene.add(gateMilitaryModel);
          }
        );

        const gateMilitaryControls = new OrbitControls(gateMilitaryCamera, gateMilitaryRenderer.domElement);
        gateMilitaryControls.enableDamping = true;
        gateMilitaryControls.dampingFactor = 0.05;
        gateMilitaryControls.minDistance = 5;
        gateMilitaryControls.maxDistance = 15;

        let gateMilitaryTime = 0;
        function animateGateMilitary() {
          requestAnimationFrame(animateGateMilitary);
          gateMilitaryTime += 0.01;

          // Auto-rotation removed - user controls rotation via OrbitControls

          gateMilitaryPoint1.intensity = 0.8 + Math.sin(gateMilitaryTime * 2) * 0.2;
          gateMilitaryPoint2.intensity = 0.6 + Math.cos(gateMilitaryTime * 2) * 0.15;
          gateMilitaryPoint3.intensity = 1.5 + Math.sin(gateMilitaryTime * 1.5) * 0.2;

          gateMilitaryControls.update();
          gateMilitaryRenderer.render(gateMilitaryScene, gateMilitaryCamera);
        }

        function onGateMilitaryResize() {
          gateMilitaryCamera.aspect = gateMilitaryCanvas.clientWidth / gateMilitaryCanvas.clientHeight;
          gateMilitaryCamera.updateProjectionMatrix();
          gateMilitaryRenderer.setSize(gateMilitaryCanvas.clientWidth, gateMilitaryCanvas.clientHeight);
        }

        window.addEventListener('resize', onGateMilitaryResize);
        animateGateMilitary();
      };
      
      // Initialize when tab becomes visible
      const integrateTab = document.getElementById('integrate-content');
      if (integrateTab) {
        const observer = new MutationObserver(() => {
          if (integrateTab.classList.contains('active')) {
            setTimeout(initGateMilitary, 100);
            observer.disconnect();
          }
        });
        observer.observe(integrateTab, { attributes: true, attributeFilter: ['class'] });
        
        // Also try immediately if already visible
        if (integrateTab.classList.contains('active')) {
          initGateMilitary();
        }
      } else {
        initGateMilitary();
      }
    }
  </script>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

    // Gate Alice (Right) Setup
    const gateAliceCanvas = document.getElementById('gate-alice-canvas');
    if (gateAliceCanvas) {
      // Wait for tab to be visible before initializing
      const initGateAlice = () => {
        if (gateAliceCanvas.offsetWidth === 0 || gateAliceCanvas.offsetHeight === 0) {
          // Canvas not visible yet, try again
          setTimeout(initGateAlice, 100);
          return;
        }
        
        const gateAliceScene = new THREE.Scene();
        gateAliceScene.background = null; // Transparent to show blurred content behind
        gateAliceScene.fog = null; // Remove fog for cleaner look

        const gateAliceCamera = new THREE.PerspectiveCamera(
          45,
          gateAliceCanvas.clientWidth / gateAliceCanvas.clientHeight,
          0.1,
          1000
        );
        gateAliceCamera.position.set(0, 2, 8);
        gateAliceCamera.lookAt(0, 0, 0);

        const gateAliceRenderer = new THREE.WebGLRenderer({ 
          canvas: gateAliceCanvas,
          antialias: true,
          alpha: true
        });
        gateAliceRenderer.setSize(gateAliceCanvas.clientWidth, gateAliceCanvas.clientHeight);
        gateAliceRenderer.setPixelRatio(window.devicePixelRatio);
        gateAliceRenderer.shadowMap.enabled = true;
        gateAliceRenderer.shadowMap.type = THREE.PCFSoftShadowMap;

        // Lighting
        const gateAliceAmbient = new THREE.AmbientLight(0xffffff, 0.6);
        gateAliceScene.add(gateAliceAmbient);

        const gateAliceDir1 = new THREE.DirectionalLight(0xffffff, 2);
        gateAliceDir1.position.set(5, 10, 5);
        gateAliceScene.add(gateAliceDir1);

        const gateAliceDir2 = new THREE.DirectionalLight(0xffffff, 1);
        gateAliceDir2.position.set(-5, 8, -5);
        gateAliceScene.add(gateAliceDir2);

        const gateAlicePoint1 = new THREE.PointLight(0x00ffff, 0.8, 100);
        gateAlicePoint1.position.set(-4, 4, 4);
        gateAliceScene.add(gateAlicePoint1);

        const gateAlicePoint2 = new THREE.PointLight(0xff00ff, 0.6, 100);
        gateAlicePoint2.position.set(4, 4, -4);
        gateAliceScene.add(gateAlicePoint2);

        const gateAlicePoint3 = new THREE.PointLight(0xffffff, 1.5, 100);
        gateAlicePoint3.position.set(0, 8, 0);
        gateAliceScene.add(gateAlicePoint3);

        // Load Alice Model
        const gateAliceLoader = new GLTFLoader();
        let gateAliceModel = null;
        const gateAliceModelPath = 'alice__murder_drones_check_description.glb';

        gateAliceLoader.load(
          gateAliceModelPath,
          (gltf) => {
            gateAliceModel = gltf.scene;
            const box = new THREE.Box3().setFromObject(gateAliceModel);
            const center = box.getCenter(new THREE.Vector3());
            const size = box.getSize(new THREE.Vector3());
            const maxDim = Math.max(size.x, size.y, size.z);
            const scale = 3 / maxDim; // Further reduced to make smaller
            
            gateAliceModel.scale.setScalar(scale);
            gateAliceModel.position.set(-center.x * scale + 1.2, -center.y * scale + 1, -center.z * scale + 1.5); // Moved further to the right and back
            // Rotate 90 degrees west from current position (320 - 90 = 230 degrees)
            gateAliceModel.rotation.y = Math.PI / 2 + Math.PI + (20 * Math.PI / 180) + (30 * Math.PI / 180) - (90 * Math.PI / 180); // 320 - 90 = 230 degrees
            
            gateAliceModel.traverse((child) => {
              if (child.isMesh) {
                child.castShadow = true;
                child.receiveShadow = true;
                if (child.material) {
                  const materials = Array.isArray(child.material) ? child.material : [child.material];
                  materials.forEach((material) => {
                    if (material) {
                      if (material.emissiveMap) {
                        material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.2;
                      } else if (material.emissive) {
                        material.emissiveIntensity = (material.emissiveIntensity || 0) + 0.15;
                      } else {
                        material.emissive = new THREE.Color(0x00ffff);
                        material.emissiveIntensity = 0.1;
                      }
                      if (material.map) material.map.needsUpdate = true;
                      if (material.normalMap) material.normalMap.needsUpdate = true;
                    }
                  });
                }
              }
            });
            
            gateAliceScene.add(gateAliceModel);
          },
          undefined,
          (error) => {
            console.log('Alice model not found, using placeholder');
            const geometry = new THREE.BoxGeometry(2, 3, 1.5);
            const material = new THREE.MeshStandardMaterial({
              color: 0x888888,
              emissive: 0xff00ff,
              emissiveIntensity: 0.3
            });
            gateAliceModel = new THREE.Mesh(geometry, material);
            gateAliceModel.position.set(1.2, 1.5, 1.5); // Moved further to the right and back
            gateAliceModel.scale.setScalar(0.6); // Make placeholder smaller too
            gateAliceModel.rotation.y = Math.PI / 2 + Math.PI + (20 * Math.PI / 180) + (30 * Math.PI / 180) - (90 * Math.PI / 180); // 320 - 90 = 230 degrees
            gateAliceScene.add(gateAliceModel);
          }
        );

        const gateAliceControls = new OrbitControls(gateAliceCamera, gateAliceRenderer.domElement);
        gateAliceControls.enableDamping = true;
        gateAliceControls.dampingFactor = 0.05;
        gateAliceControls.minDistance = 5;
        gateAliceControls.maxDistance = 15;

        let gateAliceTime = 0;
        function animateGateAlice() {
          requestAnimationFrame(animateGateAlice);
          gateAliceTime += 0.01;

          // Auto-rotation removed - user controls rotation via OrbitControls

          gateAlicePoint1.intensity = 0.8 + Math.sin(gateAliceTime * 2) * 0.2;
          gateAlicePoint2.intensity = 0.6 + Math.cos(gateAliceTime * 2) * 0.15;
          gateAlicePoint3.intensity = 1.5 + Math.sin(gateAliceTime * 1.5) * 0.2;

          gateAliceControls.update();
          gateAliceRenderer.render(gateAliceScene, gateAliceCamera);
        }

        function onGateAliceResize() {
          gateAliceCamera.aspect = gateAliceCanvas.clientWidth / gateAliceCanvas.clientHeight;
          gateAliceCamera.updateProjectionMatrix();
          gateAliceRenderer.setSize(gateAliceCanvas.clientWidth, gateAliceCanvas.clientHeight);
        }

        window.addEventListener('resize', onGateAliceResize);
        animateGateAlice();
      };
      
      // Initialize when tab becomes visible
      const integrateTab = document.getElementById('integrate-content');
      if (integrateTab) {
        const observer = new MutationObserver(() => {
          if (integrateTab.classList.contains('active')) {
            setTimeout(initGateAlice, 100);
            observer.disconnect();
          }
        });
        observer.observe(integrateTab, { attributes: true, attributeFilter: ['class'] });
        
        // Also try immediately if already visible
        if (integrateTab.classList.contains('active')) {
          initGateAlice();
        }
      } else {
        initGateAlice();
      }
    }
  </script>

  <script>
    // Carousel functionality
    const carouselTrack = document.getElementById('carouselTrack');
    const slides = document.querySelectorAll('.carousel-slide');
    const dots = document.querySelectorAll('.carousel-dot');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    let currentSlide = 0;

    function updateCarousel() {
      carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
      
      slides.forEach((slide, index) => {
        slide.classList.toggle('active', index === currentSlide);
      });
      
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % slides.length;
      updateCarousel();
    }

    function prevSlide() {
      currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      updateCarousel();
    }

    nextBtn.addEventListener('click', nextSlide);
    prevBtn.addEventListener('click', prevSlide);

    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        currentSlide = index;
        updateCarousel();
      });
    });

    // Auto-advance carousel
    let autoAdvanceInterval = setInterval(nextSlide, 8000);

    // Pause auto-advance on hover
    const carouselContainer = document.querySelector('.carousel-container');
    carouselContainer.addEventListener('mouseenter', () => {
      clearInterval(autoAdvanceInterval);
    });

    carouselContainer.addEventListener('mouseleave', () => {
      autoAdvanceInterval = setInterval(nextSlide, 8000);
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') prevSlide();
      if (e.key === 'ArrowRight') nextSlide();
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // HUD stats animation
    function updateHUD() {
      const riskScore = document.querySelector('.hud-stat .hud-value');
      if (riskScore) {
        const value = (Math.random() * 100).toFixed(2);
        riskScore.textContent = value;
      }
    }

    setInterval(updateHUD, 2000);

    // Tab Switching Functionality
    const navTabs = document.querySelectorAll('.nav-tab');
    const tabContents = document.querySelectorAll('.tab-content');

    navTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const targetTab = tab.getAttribute('data-tab');

        // Remove active class from all tabs and contents
        navTabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));

        // Add active class to clicked tab and corresponding content
        tab.classList.add('active');
        const targetContent = document.getElementById(`${targetTab}-content`);
        if (targetContent) {
          targetContent.classList.add('active');
          // Scroll to top when switching tabs
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      });
    });
  </script>

  <script>
    // Space Particle System with Pulsating Stars and Mouse-Following Clusters
    (function() {
      const canvas = document.getElementById('space-particles-canvas');
      if (!canvas) return;
      
      const ctx = canvas.getContext('2d');
      let mouseX = 0;
      let mouseY = 0;
      let animationFrameId = null;
      
      // Set canvas size
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      
      // Star class
      class Star {
        constructor() {
          this.reset();
          this.y = Math.random() * canvas.height;
        }
        
        reset() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height;
          this.baseSize = Math.random() * 1.5 + 0.5;
          this.pulseSpeed = Math.random() * 0.02 + 0.01;
          this.pulsePhase = Math.random() * Math.PI * 2;
          this.opacity = Math.random() * 0.5 + 0.3;
          this.twinkleSpeed = Math.random() * 0.03 + 0.02;
        }
        
        update() {
          this.pulsePhase += this.pulseSpeed;
          const pulse = Math.sin(this.pulsePhase) * 0.3 + 0.7;
          this.currentSize = this.baseSize * pulse;
          this.currentOpacity = this.opacity * (0.7 + Math.sin(this.pulsePhase * 2) * 0.3);
        }
        
        draw() {
          ctx.save();
          ctx.globalAlpha = this.currentOpacity;
          
          // Soft glow effect
          const gradient = ctx.createRadialGradient(
            this.x, this.y, 0,
            this.x, this.y, this.currentSize * 3
          );
          gradient.addColorStop(0, 'rgba(255, 255, 255, 0.9)');
          gradient.addColorStop(0.3, 'rgba(0, 255, 255, 0.3)');
          gradient.addColorStop(1, 'rgba(0, 255, 255, 0)');
          
          ctx.fillStyle = gradient;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.currentSize * 3, 0, Math.PI * 2);
          ctx.fill();
          
          // Core star
          ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.currentSize, 0, Math.PI * 2);
          ctx.fill();
          
          ctx.restore();
        }
      }
      
      // Comet class (follows mouse with trailing tail)
      class Comet {
        constructor() {
          this.targetX = canvas.width / 2;
          this.targetY = canvas.height / 2;
          this.x = this.targetX;
          this.y = this.targetY;
          this.velocityX = 0;
          this.velocityY = 0;
          this.trail = []; // Array of previous positions for the tail
          this.maxTrailLength = 25; // Number of trail segments
        }
        
        update() {
          // Smooth follow mouse with easing
          const easing = 0.08;
          this.velocityX += (this.targetX - this.x) * easing;
          this.velocityY += (this.targetY - this.y) * easing;
          this.velocityX *= 0.85;
          this.velocityY *= 0.85;
          
          const prevX = this.x;
          const prevY = this.y;
          
          this.x += this.velocityX;
          this.y += this.velocityY;
          
          // Add current position to trail
          this.trail.push({ x: this.x, y: this.y });
          
          // Limit trail length
          if (this.trail.length > this.maxTrailLength) {
            this.trail.shift();
          }
        }
        
        draw() {
          if (this.trail.length < 2) return;
          
          // Draw the tail (trail)
          for (let i = 0; i < this.trail.length - 1; i++) {
            const current = this.trail[i];
            const next = this.trail[i + 1];
            const progress = i / (this.trail.length - 1); // 0 to 1
            
            // Fade out as we go back in the trail
            const opacity = (1 - progress) * 0.6;
            const size = (1 - progress) * 3 + 0.5;
            
            ctx.save();
            ctx.globalAlpha = opacity;
            
            // Calculate direction for the tail segment
            const dx = next.x - current.x;
            const dy = next.y - current.y;
            const angle = Math.atan2(dy, dx);
            
            // Create gradient along the tail segment
            const gradient = ctx.createLinearGradient(
              current.x, current.y,
              next.x, next.y
            );
            gradient.addColorStop(0, `rgba(0, 255, 255, ${opacity * 0.8})`);
            gradient.addColorStop(0.5, `rgba(255, 0, 255, ${opacity * 0.6})`);
            gradient.addColorStop(1, `rgba(0, 255, 255, ${opacity * 0.3})`);
            
            ctx.strokeStyle = gradient;
            ctx.lineWidth = size;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            ctx.beginPath();
            ctx.moveTo(current.x, current.y);
            ctx.lineTo(next.x, next.y);
            ctx.stroke();
            
            // Add glow particles along the tail
            const particleGradient = ctx.createRadialGradient(
              current.x, current.y, 0,
              current.x, current.y, size * 2
            );
            particleGradient.addColorStop(0, `rgba(0, 255, 255, ${opacity * 0.9})`);
            particleGradient.addColorStop(0.5, `rgba(255, 0, 255, ${opacity * 0.5})`);
            particleGradient.addColorStop(1, 'rgba(0, 255, 255, 0)');
            
            ctx.fillStyle = particleGradient;
            ctx.beginPath();
            ctx.arc(current.x, current.y, size * 2, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
          }
          
          // Draw the bright comet head
          const head = this.trail[this.trail.length - 1];
          if (head) {
            ctx.save();
            
            // Outer glow
            const headGradient = ctx.createRadialGradient(
              head.x, head.y, 0,
              head.x, head.y, 15
            );
            headGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
            headGradient.addColorStop(0.3, 'rgba(0, 255, 255, 0.8)');
            headGradient.addColorStop(0.6, 'rgba(255, 0, 255, 0.4)');
            headGradient.addColorStop(1, 'rgba(0, 255, 255, 0)');
            
            ctx.fillStyle = headGradient;
            ctx.beginPath();
            ctx.arc(head.x, head.y, 15, 0, Math.PI * 2);
            ctx.fill();
            
            // Bright core
            ctx.fillStyle = 'rgba(255, 255, 255, 1)';
            ctx.beginPath();
            ctx.arc(head.x, head.y, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Cyan center
            ctx.fillStyle = 'rgba(0, 255, 255, 0.9)';
            ctx.beginPath();
            ctx.arc(head.x, head.y, 2.5, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
          }
        }
        
        setTarget(x, y) {
          this.targetX = x;
          this.targetY = y;
        }
      }
      
      // Create stars
      const stars = [];
      const starCount = 150;
      for (let i = 0; i < starCount; i++) {
        stars.push(new Star());
      }
      
      // Create comet
      const comet = new Comet();
      
      // Mouse tracking
      let mouseMoved = false;
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        mouseMoved = true;
        comet.setTarget(mouseX, mouseY);
      });
      
      // Initialize comet position
      comet.setTarget(canvas.width / 2, canvas.height / 2);
      
      // Animation loop
      function animate() {
        // Only show on home, roadmap, extension, or whitepaper tabs
        const activeTab = document.querySelector('.tab-content.active');
        const shouldShow = activeTab && (
          activeTab.id === 'home-content' ||
          activeTab.id === 'roadmap-content' ||
          activeTab.id === 'extension-content' ||
          activeTab.id === 'whitepaper-content'
        );
        
        if (shouldShow) {
          canvas.style.display = 'block';
          
          // Clear with dark space background
          ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          
          // Update and draw stars
          stars.forEach(star => {
            star.update();
            star.draw();
          });
          
          // Update and draw comet
          comet.update();
          comet.draw();
        } else {
          canvas.style.display = 'none';
        }
        
        animationFrameId = requestAnimationFrame(animate);
      }
      
      // Start animation
      animate();
    })();

    // Extension Test Simulation Functions
    let extensionWalletConnected = false;
    let extensionMockWallet = null;

    function updateExtensionWalletStatus(connected, address = null) {
      const statusEl = document.getElementById('extension-wallet-status');
      const connectBtn = document.getElementById('extension-connect-btn');
      const sendBtn = document.getElementById('extension-send-btn');
      const swapBtn = document.getElementById('extension-swap-btn');
      if (!statusEl) return;
      
      const indicator = statusEl.querySelector('.status-indicator');
      if (connected) {
        statusEl.classList.add('connected');
        indicator.classList.add('connected');
        statusEl.querySelector('.status-text').textContent = `✅ CONNECTED: ${address ? address.substring(0, 6) + '...' + address.substring(38) : 'MOCK WALLET'}`;
        connectBtn.querySelector('.button-text').textContent = 'DISCONNECT';
        sendBtn.disabled = false;
        swapBtn.disabled = false;
        extensionWalletConnected = true;
      } else {
        statusEl.classList.remove('connected');
        indicator.classList.remove('connected');
        statusEl.querySelector('.status-text').textContent = '⚠️ WALLET NOT CONNECTED';
        connectBtn.querySelector('.button-text').textContent = 'CONNECT WALLET';
        sendBtn.disabled = true;
        swapBtn.disabled = true;
        extensionWalletConnected = false;
      }
    }

    async function extensionConnectWallet() {
      if (extensionWalletConnected) {
        updateExtensionWalletStatus(false);
        return;
      }
      try {
        if (window.ethereum) {
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          if (accounts && accounts.length > 0) {
            updateExtensionWalletStatus(true, accounts[0]);
            return;
          }
        }
        extensionMockWallet = {
          address: '0x' + Array.from({length: 40}, () => Math.floor(Math.random() * 16).toString(16)).join('')
        };
        updateExtensionWalletStatus(true, extensionMockWallet.address);
      } catch (error) {
        console.error('[Extension Test] Error:', error);
      }
    }

    async function extensionSendTransaction() {
      if (!extensionWalletConnected) return;
      try {
        const tx = {
          from: extensionMockWallet ? extensionMockWallet.address : (await window.ethereum.request({ method: 'eth_accounts' }))[0],
          to: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb0',
          value: '0x2386f26fc10000',
          gas: '0x5208',
          gasPrice: '0x4a817c800',
        };
        if (window.ethereum && !extensionMockWallet) {
          try {
            await window.ethereum.request({ method: 'eth_sendTransaction', params: [tx] });
          } catch (error) {
            if (error.code !== 4001) console.error('[Extension Test] Error:', error);
          }
        }
      } catch (error) {
        console.error('[Extension Test] Error:', error);
      }
    }

    async function extensionSwapTokens() {
      if (!extensionWalletConnected) return;
      try {
        const tx = {
          from: extensionMockWallet ? extensionMockWallet.address : (await window.ethereum.request({ method: 'eth_accounts' }))[0],
          to: '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D',
          value: '0x0',
          data: '0x38ed1739000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
          gas: '0x186a0',
          gasPrice: '0x4a817c800',
        };
        if (window.ethereum && !extensionMockWallet) {
          try {
            await window.ethereum.request({ method: 'eth_sendTransaction', params: [tx] });
          } catch (error) {
            if (error.code !== 4001) console.error('[Extension Test] Error:', error);
          }
        }
      } catch (error) {
        console.error('[Extension Test] Error:', error);
      }
    }
  </script>
</body>
</html>
